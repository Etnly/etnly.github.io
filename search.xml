<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>FSMçŠ¶æ€æœº</title>
      <link href="/2016/08/13/FSM%E7%8A%B6%E6%80%81%E6%9C%BA/"/>
      <url>/2016/08/13/FSM%E7%8A%B6%E6%80%81%E6%9C%BA/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><ul><li>æœ‰é™çŠ¶æ€æœºï¼ŒFSMï¼Œç®€ç§°çŠ¶æ€æœºï¼Œæ˜¯è¡¨ç¤ºæœ‰é™ä¸ª ä»¥åŠåœ¨è¿™äº›çŠ¶æ€ä¹‹é—´çš„è½¬ç§»å’ŒåŠ¨ä½œç­‰è¡Œä¸ºçš„</li><li>åœ¨unituä¸­æˆ‘ä»¬ç»å¸¸ä¼šåˆ¤æ–­ä¸€ä¸ªäººç‰©ï¼ˆæˆ–æ€ªç‰©ï¼‰çš„è¿åŠ¨çŠ¶æ€ï¼Œå¦‚å·¡é€»ã€è¿½é€ã€æ”»å‡»ã€æ­»äº¡ç­‰ï¼Œç„¶åä½œå‡ºç›¸åº”çš„æ“ä½œï¼Œè¿™äº›æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ‰é™çŠ¶æ€æœºæ¥é›†ä¸­ç®¡ç†è¿™äº›çŠ¶æ€ã€‚</li><li>FSMåœ¨unityä¸­ç®—æ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æŠ€å·§</li></ul><blockquote><p>ä»¥ä¸‹æ˜¯æˆ‘å†™çš„ä¸€ä¸ªç®€å•çš„FSMçŠ¶æ€æœºçš„ä¾‹å­ï¼š<br>FSMState.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine.SceneManagement;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public abstract class FSMState &#123;</span><br><span class="line">//å­—å…¸ï¼Œå­—å…¸ä¸­æ¯ä¸€é¡¹éƒ½è®°å½•äº†ä¸€ä¸ªâ€œè½¬æ¢-çŠ¶æ€â€å¯¹ çš„ä¿¡æ¯</span><br><span class="line">protected Dictionary&lt;Transition, FSMStateID&gt; map = new Dictionary&lt;Transition, FSMStateID&gt;();</span><br><span class="line">//çŠ¶æ€ç¼–å·ID</span><br><span class="line">protected FSMStateID stateID;</span><br><span class="line">public FSMStateID ID &#123; get &#123; return stateID; &#125; &#125;</span><br><span class="line">//ç›®æ ‡ç‚¹ä½ç½®</span><br><span class="line">protected Vector3 destPos;</span><br><span class="line">//å·¡é€»ç‚¹æ•°ç»„</span><br><span class="line">protected Transform[] waypoints;</span><br><span class="line">//æ—‹è½¬é€Ÿåº¦</span><br><span class="line">protected float curRotSpeed;</span><br><span class="line">//ç§»åŠ¨é€Ÿåº¦</span><br><span class="line">protected float curSpeed;</span><br><span class="line">//å‘ç°å¯¹é¢çš„è·ç¦»</span><br><span class="line">public float chaseDistance&#123;</span><br><span class="line">get &#123;</span><br><span class="line">if (SceneManager.GetActiveScene ().name == &quot;PTMainScenes&quot;)</span><br><span class="line">return 10f;</span><br><span class="line">else</span><br><span class="line">return 1f;&#125;&#125;</span><br><span class="line">//æ”»å‡»è·ç¦»</span><br><span class="line">public float SRAttackDistance&#123;</span><br><span class="line">get &#123;</span><br><span class="line">if (SceneManager.GetActiveScene ().name == &quot;PTMainScenes&quot;)</span><br><span class="line">return 1f;</span><br><span class="line">else</span><br><span class="line">return 0.1f;&#125;&#125;</span><br><span class="line">//ç›®æ ‡ç‚¹è·ç¦»</span><br><span class="line">protected float arriveDistance&#123;</span><br><span class="line">get &#123;</span><br><span class="line">if (SceneManager.GetActiveScene ().name == &quot;PTMainScenes&quot;)</span><br><span class="line">return 2f;</span><br><span class="line">else</span><br><span class="line">return 0.2f;&#125;&#125;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// å‘å­—å…¸æ·»åŠ é¡¹ï¼Œæ¯é¡¹æ˜¯ä¸€ä¸ª&quot;è½¬æ¢--çŠ¶æ€&quot;å¯¹</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">/// &lt;param name=&quot;transition&quot;&gt;&lt;/param&gt;</span><br><span class="line">/// &lt;param name=&quot;id&quot;&gt;&lt;/param&gt;</span><br><span class="line">public void AddTransition(Transition transition, FSMStateID id)</span><br><span class="line">&#123;</span><br><span class="line">if (map.ContainsKey(transition))</span><br><span class="line">&#123;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">map.Add(transition, id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// ä»å­—å…¸ä¸­åˆ é™¤é¡¹</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">/// &lt;param name=&quot;trans&quot;&gt;&lt;/param&gt;</span><br><span class="line">public void DeleteTransition(Transition trans)</span><br><span class="line">&#123;</span><br><span class="line">if (map.ContainsKey(trans))</span><br><span class="line">&#123;</span><br><span class="line">map.Remove(trans);</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// é€šè¿‡æŸ¥è¯¢å­—å…¸ï¼Œç¡®å®šåœ¨å½“å‰çŠ¶æ€ä¸‹ï¼Œå‘ç”Ÿtransè½¬æ¢æ—¶ï¼Œåº”è¯¥è½¬æ¢åˆ°æ–°çš„çŠ¶æ€ç¼–å·å¹¶è¿”å›</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">/// &lt;param name=&quot;trans&quot;&gt;&lt;/param&gt;</span><br><span class="line">/// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">public FSMStateID GetOutputState(Transition trans)</span><br><span class="line">&#123;</span><br><span class="line">return map[trans];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// ç”¨æ¥ç¡®å®šæ˜¯å¦éœ€è¦è½¬æ¢åˆ°å…¶ä»–çŠ¶æ€ï¼Œåº”è¯¥å‘ç”Ÿå“ªä¸ªè½¬æ¢</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">/// &lt;param name=&quot;player&quot;&gt;&lt;/param&gt;</span><br><span class="line">/// &lt;param name=&quot;npc&quot;&gt;&lt;/param&gt;</span><br><span class="line">public abstract void Reason(Transform hero, Transform monster);</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// å®šä¹‰äº†åœ¨æœ¬çŠ¶æ€çš„è§’è‰²è¡Œä¸ºï¼Œç§»åŠ¨ï¼ŒåŠ¨ç”»ç­‰</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">/// &lt;param name=&quot;player&quot;&gt;&lt;/param&gt;</span><br><span class="line">/// &lt;param name=&quot;npc&quot;&gt;&lt;/param&gt;</span><br><span class="line">public abstract void Act(Transform hero, Transform monster);</span><br><span class="line"></span><br><span class="line">public virtual void Enter (Transform hero, Transform monster)&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// é€‰æ‹©éšæœºé€»è¾‘ç‚¹</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public void FindNextPoint()&#123;</span><br><span class="line">int rndIndex = Random.Range (0, waypoints.Length);</span><br><span class="line">Vector3 rndPosition = Vector3.zero;</span><br><span class="line">destPos = waypoints [rndIndex].position + rndPosition;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>FSM.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">public class FSM : MonoBehaviour&#123;</span><br><span class="line">// ç©å®¶ä½ç½®</span><br><span class="line">protected Transform playerTranform;</span><br><span class="line">// ä¸‹ä¸€ä¸ªå·¡é€»ç‚¹</span><br><span class="line">protected Vector3 destPos;</span><br><span class="line">// å·¡é€»ç‚¹è¡¨å•</span><br><span class="line">protected GameObject[] pointList;</span><br><span class="line">//</span><br><span class="line"></span><br><span class="line">protected float elapsedTime;</span><br><span class="line"></span><br><span class="line">protected virtual void Initialize()&#123;&#125;</span><br><span class="line">protected virtual void FSMUpdate()&#123;&#125;</span><br><span class="line">protected virtual void FSMFixedUpdate()&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// åˆå§‹åŒ–</span><br><span class="line">void Start()&#123;</span><br><span class="line">Initialize ();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//å¾ªç¯æ‰§è¡Œ </span><br><span class="line">void Update()&#123;</span><br><span class="line">FSMUpdate ();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void FixedUpdate()&#123;</span><br><span class="line">FSMFixedUpdate ();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>AdvancedFSM.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public enum Transition&#123;</span><br><span class="line">SawPlayer = 0, //æ˜¯å¦çœ‹åˆ°ç©å®¶</span><br><span class="line">ReachPlayer, //æ¥è¿‘ç©å®¶</span><br><span class="line">LostPlayer, //ç©å®¶ç¦»å¼€è§†çº¿</span><br><span class="line">NoHealth, //æ­»äº¡</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public enum FSMStateID&#123;</span><br><span class="line">Patrolling = 0, // å·¡é€»ç¼–å·</span><br><span class="line">Chasing, // è¿½è¸ªç¼–å·</span><br><span class="line">Attacking,</span><br><span class="line">Dead, // æ­»äº¡ç¼–å·</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class AdvancedFSM : FSM</span><br><span class="line">&#123;</span><br><span class="line">//FSMä¸­çš„æ‰€æœ‰çŠ¶æ€ç»„æˆçš„åˆ—è¡¨</span><br><span class="line">private List&lt;FSMState&gt; fsmStates;</span><br><span class="line">//å½“å‰çŠ¶æ€çš„ç¼–å·</span><br><span class="line">private FSMStateID currentStateID;</span><br><span class="line">public FSMStateID CurrentStateID &#123; get &#123; return currentStateID; &#125; &#125;</span><br><span class="line">//å½“å‰çŠ¶æ€</span><br><span class="line">private FSMState currentState;</span><br><span class="line">public FSMState CurrentState &#123; get &#123; return currentState; &#125; &#125;</span><br><span class="line"></span><br><span class="line">public AdvancedFSM()</span><br><span class="line">&#123;</span><br><span class="line">//æ–°å»ºä¸€ä¸ªç©ºçš„çŠ¶æ€åˆ—è¡¨</span><br><span class="line">fsmStates = new List&lt;FSMState&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">///å‘çŠ¶æ€åˆ—è¡¨ä¸­åŠ å…¥ä¸€ä¸ªæ–°çš„çŠ¶æ€</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public void AddFSMState(FSMState fsmState)</span><br><span class="line">&#123;</span><br><span class="line">if (fsmState == null)</span><br><span class="line">&#123;</span><br><span class="line">Debug.LogError(&quot;çŠ¶æ€ä¸ºç©º&quot;);</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (fsmStates.Count == 0)</span><br><span class="line">&#123;</span><br><span class="line">fsmStates.Add(fsmState);</span><br><span class="line">currentState = fsmState;</span><br><span class="line">currentStateID = fsmState.ID;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foreach (FSMState state in fsmStates)</span><br><span class="line">&#123;</span><br><span class="line">if (state.ID == fsmState.ID)</span><br><span class="line">&#123;</span><br><span class="line">Debug.LogError(&quot;çŠ¶æ€å·²å­˜åœ¨&quot;);</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">//å¦‚æœè¦åŠ å…¥çš„çŠ¶æ€ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œå°†å®ƒåŠ å…¥åˆ—è¡¨</span><br><span class="line">fsmStates.Add(fsmState);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//ä»çŠ¶æ€ä¸­åˆ é™¤ä¸€ä¸ªçŠ¶æ€   </span><br><span class="line">public void DeleteState(FSMStateID fsmState)</span><br><span class="line">&#123;</span><br><span class="line">// æœç´¢æ•´ä¸ªçŠ¶æ€åˆ—è¡¨ï¼Œå¦‚æœè¦åˆ é™¤çš„çŠ¶æ€åœ¨åˆ—è¡¨ä¸­ï¼Œé‚£ä¹ˆå°†å®ƒç§»é™¤ï¼Œå¦åˆ™æŠ¥é”™</span><br><span class="line">foreach (FSMState state in fsmStates)</span><br><span class="line">&#123;</span><br><span class="line">if (state.ID == fsmState)</span><br><span class="line">&#123;</span><br><span class="line">fsmStates.Remove(state);</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Debug.LogError(&quot;è¦åˆ é™¤çš„çŠ¶æ€ä¸åœ¨åˆ—è¡¨ä¸­&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// æ ¹æ®å½“å‰çŠ¶æ€ï¼Œå’Œå‚æ•°ä¸­ä¼ é€’çš„è½¬æ¢ï¼Œè½¬æ¢åˆ°æ–°çŠ¶æ€</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public void PerformTransition(Transition trans)</span><br><span class="line">&#123;  </span><br><span class="line">FSMStateID id = currentState.GetOutputState(trans);        </span><br><span class="line">      </span><br><span class="line">currentStateID = id;</span><br><span class="line"></span><br><span class="line">foreach (FSMState state in fsmStates)</span><br><span class="line">&#123;</span><br><span class="line">if (state.ID == currentStateID)</span><br><span class="line">&#123;</span><br><span class="line">currentState = state;</span><br><span class="line">break;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>AttackState.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class AttackState : FSMState &#123;</span><br><span class="line"></span><br><span class="line">Animator monsterAnimator;</span><br><span class="line">AnimatorStateInfo stateInfo;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public AttackState(Transform[] wp)&#123;</span><br><span class="line">waypoints = wp;</span><br><span class="line">stateID = FSMStateID.Attacking;</span><br><span class="line"></span><br><span class="line">curRotSpeed = 12;</span><br><span class="line">curSpeed = 100;</span><br><span class="line"></span><br><span class="line">FindNextPoint ();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public override void Enter (Transform hero, Transform monster)</span><br><span class="line">&#123;</span><br><span class="line">monsterAnimator = monster.GetComponent&lt;Animator&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public override void Reason(Transform hero, Transform monster)&#123;</span><br><span class="line">if (hero != null) &#123;</span><br><span class="line">stateInfo = monsterAnimator.GetCurrentAnimatorStateInfo (0);</span><br><span class="line">float dist = Vector3.Distance (monster.position, hero.position);</span><br><span class="line">if (dist &gt;= SRAttackDistance &amp;&amp; dist &lt; chaseDistance) &#123;</span><br><span class="line">if (stateInfo.IsName (&quot;skill&quot;) &amp;&amp; stateInfo.normalizedTime % 1 &gt; 0.9f)</span><br><span class="line">monster.GetComponent&lt;MonsterAIController&gt; ().SetTransition (Transition.SawPlayer);</span><br><span class="line">&#125; else if (dist &gt;= chaseDistance) &#123;</span><br><span class="line">if (stateInfo.IsName (&quot;skill&quot;) &amp;&amp; stateInfo.normalizedTime % 1 &gt; 0.9f)</span><br><span class="line">monster.GetComponent&lt;MonsterAIController&gt; ().SetTransition (Transition.LostPlayer);</span><br><span class="line">&#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">monster.GetComponent&lt;MonsterAIController&gt; ().SetTransition (Transition.LostPlayer);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public override void Act(Transform hero, Transform monster)&#123;</span><br><span class="line">destPos = hero.position;</span><br><span class="line">Quaternion targetRotation = Quaternion.LookRotation (destPos - monster.position);</span><br><span class="line">monster.rotation = Quaternion.Slerp (monster.rotation, targetRotation, Time.deltaTime * curRotSpeed);</span><br><span class="line"></span><br><span class="line">//CharacterController controller = monster.GetComponent&lt;CharacterController&gt; ();</span><br><span class="line">//controller.SimpleMove (monster.transform.forward * Time.deltaTime * curSpeed);</span><br><span class="line"></span><br><span class="line">//æ’­æ”¾æ”»å‡»åŠ¨ç”»</span><br><span class="line"></span><br><span class="line">//Animator monsterAnimator = monster.GetComponent&lt;Animator&gt;();</span><br><span class="line">monsterAnimator.SetBool (&quot;isRun&quot;,false);</span><br><span class="line">monsterAnimator.SetBool (&quot;isAttack&quot;, true);</span><br><span class="line">monsterAnimator.SetBool (&quot;isWalk&quot;, false);</span><br><span class="line">monsterAnimator.SetBool (&quot;isDead&quot;, false);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>ChaseState.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine.AI;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.SceneManagement;</span><br><span class="line"></span><br><span class="line">public class ChaseState : FSMState &#123;</span><br><span class="line"></span><br><span class="line">NavMeshAgent monsterAgent;</span><br><span class="line">Animator monsterAnimator;</span><br><span class="line"></span><br><span class="line">public ChaseState(Transform[] wp)&#123;</span><br><span class="line">waypoints = wp;</span><br><span class="line">stateID = FSMStateID.Chasing;</span><br><span class="line"></span><br><span class="line">curRotSpeed = 7;</span><br><span class="line">curSpeed = 300;</span><br><span class="line"></span><br><span class="line">FindNextPoint ();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public override void Enter (Transform hero, Transform monster)</span><br><span class="line">&#123;</span><br><span class="line">monsterAnimator = monster.GetComponent&lt;Animator&gt;();</span><br><span class="line">monsterAgent = monster.GetComponent&lt;NavMeshAgent&gt; ();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public override void Reason(Transform hero, Transform monster)&#123;</span><br><span class="line"></span><br><span class="line">if (hero != null) &#123;</span><br><span class="line">destPos = hero.position;</span><br><span class="line">float dist = Vector3.Distance (monster.position, destPos);</span><br><span class="line">if (dist &lt;= SRAttackDistance) &#123;</span><br><span class="line">AudioManager.Instance.PlayFXAudio (&quot;Sound_MonsterPatrolPlayer&quot;, monster.transform.position);</span><br><span class="line">monster.GetComponent&lt;MonsterAIController&gt; ().SetTransition (Transition.ReachPlayer);</span><br><span class="line"></span><br><span class="line">&#125; else if (dist &gt;= chaseDistance) &#123;</span><br><span class="line">monster.GetComponent&lt;MonsterAIController&gt; ().SetTransition (Transition.LostPlayer);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">monster.GetComponent&lt;MonsterAIController&gt; ().SetTransition (Transition.LostPlayer);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public override void Act(Transform hero, Transform monster)&#123;</span><br><span class="line">destPos = hero.position;</span><br><span class="line">Quaternion targetRotation = Quaternion.LookRotation (destPos - monster.position);</span><br><span class="line">monster.rotation = Quaternion.Slerp (monster.rotation, targetRotation, Time.deltaTime * curRotSpeed);</span><br><span class="line">monsterAgent.SetDestination (destPos);</span><br><span class="line">if(SceneManager.GetActiveScene().name == &quot;PTMainScenes&quot;)</span><br><span class="line">monster.GetComponent&lt;NavMeshAgent&gt; ().speed = 2;</span><br><span class="line">if (SceneManager.GetActiveScene ().name == &quot;ARMainScenes&quot;)</span><br><span class="line">monster.GetComponent&lt;NavMeshAgent&gt; ().speed = 0.2f;</span><br><span class="line"></span><br><span class="line">//æ’­æ”¾å¥”è·‘åŠ¨ç”»</span><br><span class="line"></span><br><span class="line">monsterAnimator.SetBool (&quot;isRun&quot;,true);</span><br><span class="line">monsterAnimator.SetBool (&quot;isAttack&quot;, false);</span><br><span class="line">monsterAnimator.SetBool (&quot;isWalk&quot;, false);</span><br><span class="line">monsterAnimator.SetBool (&quot;isDead&quot;, false);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>PatrolState.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine.AI;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.SceneManagement;</span><br><span class="line"></span><br><span class="line">public class PatrolState : FSMState&#123;</span><br><span class="line"></span><br><span class="line">Animator monsterAnimator;</span><br><span class="line">NavMeshAgent monsterAgent;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public PatrolState(Transform[] wp)&#123;</span><br><span class="line">waypoints = wp;</span><br><span class="line">stateID = FSMStateID.Patrolling;</span><br><span class="line">curRotSpeed = 6;</span><br><span class="line">curSpeed = 200;</span><br><span class="line"></span><br><span class="line">FindNextPoint ();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public override void Enter (Transform hero, Transform monster)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public override void Reason(Transform hero, Transform monster)&#123;</span><br><span class="line">if (hero != null) &#123;</span><br><span class="line">if (Vector3.Distance (monster.position, hero.position) &lt;= chaseDistance) &#123;</span><br><span class="line">AudioManager.Instance.PlayFXAudio (&quot;Sound_MonsterSawPlayer&quot;, monster.transform.position);</span><br><span class="line">monster.GetComponent&lt;MonsterAIController&gt; ().SetTransition (Transition.SawPlayer);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public override void Act(Transform hero, Transform monster)&#123;</span><br><span class="line">monsterAgent = monster.GetComponent&lt;NavMeshAgent&gt; ();</span><br><span class="line">if (!(monsterAgent.pathPending || monsterAgent.remainingDistance &gt; (monsterAgent.stoppingDistance + 0.5f) || monsterAgent.velocity != Vector3.zero)) &#123;</span><br><span class="line">FindNextPoint ();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">//Physics.SphereCastAll ();</span><br><span class="line">//Quaternion targetRotation = Quaternion.LookRotation (destPos - monster.position);</span><br><span class="line">//monster.rotation = Quaternion.Slerp (monster.rotation, targetRotation, Time.deltaTime * curRotSpeed);</span><br><span class="line">monsterAgent.SetDestination (destPos);</span><br><span class="line">if(SceneManager.GetActiveScene().name == &quot;PTMainScenes&quot;)</span><br><span class="line">monster.GetComponent&lt;NavMeshAgent&gt; ().speed = 1;</span><br><span class="line">if (SceneManager.GetActiveScene ().name == &quot;ARMainScenes&quot;)</span><br><span class="line">monster.GetComponent&lt;NavMeshAgent&gt; ().speed = 0.1f;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//æ’­æ”¾è¡Œèµ°åŠ¨ç”»</span><br><span class="line"></span><br><span class="line">monsterAnimator = monster.GetComponent&lt;Animator&gt; ();</span><br><span class="line">monsterAnimator.SetBool (&quot;isRun&quot;,false);</span><br><span class="line">monsterAnimator.SetBool (&quot;isAttack&quot;, false);</span><br><span class="line">monsterAnimator.SetBool (&quot;isWalk&quot;, true);</span><br><span class="line">monsterAnimator.SetBool (&quot;isDead&quot;, false);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>DeadState.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.AI;</span><br><span class="line"></span><br><span class="line">public class DeadState : FSMState &#123;</span><br><span class="line">public DeadState()&#123;</span><br><span class="line">stateID = FSMStateID.Dead;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public override void Enter (Transform hero, Transform monster)</span><br><span class="line">&#123;</span><br><span class="line">monster.GetComponent&lt;NavMeshAgent&gt; ().enabled = false;</span><br><span class="line">monster.GetComponent&lt;Collider&gt; ().enabled = false;</span><br><span class="line">GameManager.Instance.AddScore ();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">public override void Reason(Transform hero, Transform monster)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public override void Act (Transform hero, Transform monster)&#123;</span><br><span class="line"></span><br><span class="line">//æ’­æ”¾æ­»äº¡åŠ¨ç”»</span><br><span class="line">Animator monsterAnimator = monster.GetComponent&lt;Animator&gt;();</span><br><span class="line">monsterAnimator.SetBool (&quot;isRun&quot;,false);</span><br><span class="line">monsterAnimator.SetBool (&quot;isAttack&quot;, false);</span><br><span class="line">monsterAnimator.SetBool (&quot;isWalk&quot;, false);</span><br><span class="line">monsterAnimator.SetBool (&quot;isDead&quot;, true);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote>]]></content>
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Unityå¯¹è±¡æ± </title>
      <link href="/2016/08/10/unity%E5%AF%B9%E8%B1%A1%E6%B1%A0/"/>
      <url>/2016/08/10/unity%E5%AF%B9%E8%B1%A1%E6%B1%A0/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><ul><li>å¯¹è±¡æ± çš„å«ä¹‰å¾ˆç®€å•ï¼Œæˆ‘ä»¬å°†å¯¹è±¡å‚¨å­˜åœ¨ä¸€ä¸ªâ€œæ± â€ä¸­ï¼Œå½“éœ€è¦å®ƒæ—¶å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå°½å¯èƒ½çš„å¤ç”¨å†…å­˜ä¸­å·²ç»é©»ç•™çš„èµ„æºæ¥å‡å°‘é¢‘ç¹çš„IOè€—æ—¶æ“ä½œã€‚æœ‰ç»éªŒçš„å¼€å‘è€…åœ¨ç¨‹åºè®¾è®¡æ—¶å°±ä¼šåšä¸€ä¸ªè§„èŒƒï¼Œå…¶ä¸­åŒ…å«äº†è§’è‰²æ± ï¼Œæ€ªç‰©æ± ï¼Œç‰¹æ•ˆæ± ï¼Œç»éªŒæ± ç­‰ã€‚</li><li>ä»¥ä¸‹ä»£ç ä¸­æ˜¯ä¸€ä¸ªç®€å•çš„å¯¹è±¡æ± ç¤ºä¾‹ï¼Œå…·ä½“çš„è¯´æ˜åœ¨ä»£ç æ³¨é‡Šä¸­å‘ˆç°ï¼š</li></ul><blockquote><p>Singleton.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// å•ä¾‹æ¨¡ç‰ˆç±»</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class Singleton&lt;T&gt; where T : new() &#123;</span><br><span class="line">    private static readonly T instance = new T();</span><br><span class="line"></span><br><span class="line">    public static T Instance&#123;</span><br><span class="line">        get&#123;</span><br><span class="line">            return instance;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>MonoSingleton.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// ç»„å»ºå•ä¾‹æ¨¡ç‰ˆ</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class MonoSingleten&lt;T&gt; : MonoBehaviour where T : MonoBehaviour&#123;</span><br><span class="line">    private static T instance;</span><br><span class="line">    public static T Instance&#123;</span><br><span class="line">        get&#123;</span><br><span class="line">            if (instance == null)&#123;</span><br><span class="line">                GameObject go = new GameObject(typeof(T).Name);</span><br><span class="line">                instance = go.AddComponent&lt;T&gt;();</span><br><span class="line">            &#125;</span><br><span class="line">            return instance;</span><br><span class="line">        &#125;</span><br><span class="line">        set &#123;</span><br><span class="line">            instance = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected virtual void Awake()&#123;</span><br><span class="line">        Instance = this as T;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>IReusable.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// å¯¹è±¡æ± æ¥å£</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public interface IReusable&#123;</span><br><span class="line">    //å¯¹è±¡ä»å¯¹è±¡æ± å®ä¾‹åŒ–çš„å›è°ƒ</span><br><span class="line">    void OnSpawned();</span><br><span class="line">    //å¯¹è±¡è¿”å›å¯¹è±¡æ± åçš„å›è°ƒ</span><br><span class="line">    void OnUnSpawned();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>PrefabType.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public enum PrefabType&#123;</span><br><span class="line">    None = 0,</span><br><span class="line">    Effects = 1,</span><br><span class="line">    Roles = 2,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>ResourcesPath.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// èµ„æºè·¯å¾„</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class ResourcesPath &#123;</span><br><span class="line">    public const string prefabRoles = &quot;Prefabs/Roles/&quot;;</span><br><span class="line">    public const string prefabEffects = &quot;Prefabs/Effects/&quot;;</span><br><span class="line"></span><br><span class="line">    public static string GetPath(PrefabType type, string name)&#123;</span><br><span class="line">        string path = string.Empty;</span><br><span class="line">        switch(type)&#123;</span><br><span class="line">            case PrefabType.Effects:</span><br><span class="line">                path = ResourcesPath.prefabEffects + name;</span><br><span class="line">                break;</span><br><span class="line">            case PrefabType.Roles:</span><br><span class="line">                path = ResourcesPath.prefabRoles + name;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        return path;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>ResourceFactory.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// èµ„æºå·¥å‚</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class ResourceFactory : Singleton&lt;ResourceFactory&gt; &#123;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// åŠ è½½èµ„æº</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;returns&gt;The load.&lt;/returns&gt;</span><br><span class="line">    /// &lt;param name=&quot;path&quot;&gt;Path.&lt;/param&gt;</span><br><span class="line">    /// &lt;typeparam name=&quot;T&quot;&gt;The 1st type parameter.&lt;/typeparam&gt;</span><br><span class="line">    public T Load&lt;T&gt;(string path) where T : Object&#123;</span><br><span class="line">        T res = Resources.Load&lt;T&gt;(path);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>ObjectPoolMananger.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// å¯¹è±¡æ± ç®¡ç†å™¨</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class ObjectPoolMananger : MonoSingleten&lt;ObjectPoolMananger&gt; &#123;</span><br><span class="line">    private Dictionary&lt;string, ObjectPool&gt; mPools = new Dictionary&lt;string, ObjectPool&gt;();</span><br><span class="line"></span><br><span class="line">    //ä»å¯¹è±¡æ± å–å‡ºå¯¹è±¡</span><br><span class="line">    public GameObject Spawn(PrefabType type, string name, Vector3 pos = default(Vector3), Quaternion rotation = default(Quaternion), Transform parent = null)&#123;</span><br><span class="line">        ObjectPool pool = null;</span><br><span class="line">        if (!mPools.ContainsKey(name))&#123;</span><br><span class="line">            //åˆ›å»ºå¯¹è±¡æ± </span><br><span class="line">            RegisterPoll(type, name);</span><br><span class="line">        &#125;</span><br><span class="line">        pool = mPools[name];</span><br><span class="line">        //ä»å¯¹è±¡æ± ä¸­å–å‡ºä¸€ä¸ªç‰©ä½“</span><br><span class="line">        GameObject obj = pool.Spawn();</span><br><span class="line"></span><br><span class="line">        obj.transform.SetParent(parent);</span><br><span class="line">        obj.transform.localPosition = pos;</span><br><span class="line">        obj.transform.localRotation = rotation;</span><br><span class="line">        return obj;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// å¯¹è±¡æ± å›æ”¶ç‰©ä½“</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=&quot;obj&quot;&gt;Object.&lt;/param&gt;</span><br><span class="line">    public void UnSpawn(GameObject obj)&#123;</span><br><span class="line">        foreach(ObjectPool pool in mPools.Values)&#123;</span><br><span class="line">            if (pool.Contains(obj))&#123;</span><br><span class="line">                pool.UnSpawn(obj);</span><br><span class="line">                return ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Destroy(obj);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// å›æ”¶æ‰€æœ‰ç‰©ä½“</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public void UnSpwanAll()&#123;</span><br><span class="line">        foreach(ObjectPool pool in mPools.Values)&#123;</span><br><span class="line">            pool.UnSpawnAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    private void RegisterPoll(PrefabType type, string name)&#123;</span><br><span class="line">        string path = ResourcesPath.GetPath(type, name);</span><br><span class="line">        GameObject prefab = ResourceFactory.Instance.Load&lt;GameObject&gt;(path);</span><br><span class="line">        ObjectPool pool = new ObjectPool(prefab);</span><br><span class="line">        mPools.Add(name, pool);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>ObjectPool.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// å¯¹è±¡æ± ç±»</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class ObjectPool&#123;</span><br><span class="line">    //é¢„åˆ¶ä½“</span><br><span class="line">    private GameObject mPrefab;</span><br><span class="line">    //å¯¹è±¡æ± </span><br><span class="line">    private List&lt;GameObject&gt; objectlist = new List&lt;GameObject&gt;();</span><br><span class="line"></span><br><span class="line">    //æ„é€ æ–¹æ³•</span><br><span class="line">    public ObjectPool(GameObject prefab)&#123;</span><br><span class="line">        this.mPrefab = prefab;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// å–å‡ºç‰©ä½“</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;returns&gt;The spawn.&lt;/returns&gt;</span><br><span class="line">    public GameObject Spawn()&#123;</span><br><span class="line">        GameObject obj = null;</span><br><span class="line">        for (int i = 0; i &lt; objectlist.Count; i++)&#123;</span><br><span class="line">            if (!objectlist[i].activeSelf)&#123;//å¦‚æœæœ‰ç‰©ä½“éšè—</span><br><span class="line">                obj = objectlist[i];</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (obj == null)&#123;</span><br><span class="line">            obj = GameObject.Instantiate(mPrefab);</span><br><span class="line">            objectlist.Add(obj);</span><br><span class="line">        &#125;</span><br><span class="line">        obj.SetActive(true);</span><br><span class="line"></span><br><span class="line">        //è·å–å¯¹è±¡æ± æ¥å£</span><br><span class="line">        IReusable reusable = obj.GetComponent&lt;IReusable&gt;();</span><br><span class="line">        if (reusable != null)&#123;</span><br><span class="line">            reusable.OnSpawned();</span><br><span class="line">        &#125;</span><br><span class="line">        return obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// å›æ”¶ç‰©ä½“</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=&quot;obj&quot;&gt;Object.&lt;/param&gt;</span><br><span class="line">    public void UnSpawn(GameObject obj)&#123;</span><br><span class="line">        obj.SetActive(false);</span><br><span class="line">        IReusable reusable = obj.GetComponent&lt;IReusable&gt;();</span><br><span class="line">        if (reusable != null)&#123;</span><br><span class="line">            reusable.OnUnSpawned();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void UnSpawnAll() &#123;</span><br><span class="line">        foreach (GameObject obj in objectlist)&#123;</span><br><span class="line">            obj.SetActive(false);</span><br><span class="line">            IReusable reusable = obj.GetComponent&lt;IReusable&gt;();</span><br><span class="line">            if (reusable != null)&#123;</span><br><span class="line">                reusable.OnUnSpawned();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// åˆ¤æ–­ç‰©ä½“æ˜¯å¦å­˜åœ¨</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;returns&gt;The contains.&lt;/returns&gt;</span><br><span class="line">    /// &lt;param name=&quot;obj&quot;&gt;Object.&lt;/param&gt;</span><br><span class="line">    public bool Contains(GameObject obj)&#123;</span><br><span class="line">        return objectlist.Contains(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>DestoryObjectPool.cs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// å¯¹è±¡æ± é”€æ¯</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class DestoryObjectPool : MonoBehaviour, IReusable &#123;</span><br><span class="line">    public float mDestoryTime = 0.1f;</span><br><span class="line"></span><br><span class="line">    public void OnSpawned()</span><br><span class="line">    &#123;</span><br><span class="line">        Invoke(&quot;UnSpawn&quot;, mDestoryTime);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void OnUnSpawned()</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void UnSpawn()&#123;</span><br><span class="line">        ObjectPoolMananger.Instance.UnSpawn(gameObject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote>]]></content>
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Unityå•ä¾‹</title>
      <link href="/2016/08/07/Unity%E5%8D%95%E4%BE%8B/"/>
      <url>/2016/08/07/Unity%E5%8D%95%E4%BE%8B/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="ä»€ä¹ˆæ˜¯å•ä¾‹"><a href="#ä»€ä¹ˆæ˜¯å•ä¾‹" class="headerlink" title="ä»€ä¹ˆæ˜¯å•ä¾‹"></a>ä»€ä¹ˆæ˜¯å•ä¾‹</h2><ul><li>å•ä¾‹æ¨¡å¼æ˜¯å¼€å‘ä¸­è¿ç”¨æœ€å¹¿æ³›çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚</li><li>è¿™ç§æ¨¡å¼æ¶‰åŠåˆ°ä¸€ä¸ªå•ä¸€çš„ç±»ï¼Œè¯¥ç±»è´Ÿè´£åˆ›å»ºè‡ªå·±çš„å¯¹è±¡ï¼ŒåŒæ—¶ç¡®ä¿åªæœ‰å•ä¸ªå¯¹è±¡è¢«åˆ›å»ºã€‚è¿™ä¸ªç±»æä¾›äº†ä¸€ç§è®¿é—®å…¶å”¯ä¸€çš„å¯¹è±¡çš„æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ï¼Œä¸éœ€è¦å®ä¾‹åŒ–è¯¥ç±»çš„å¯¹è±¡ã€‚</li><li>å…¶ä¸­è¦æ³¨æ„ï¼š</li></ul><ol><li>å•ä¾‹ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ã€‚</li><li>å•ä¾‹ç±»å¿…é¡»è‡ªå·±åˆ›å»ºè‡ªå·±çš„å”¯ä¸€å®ä¾‹ã€‚</li><li>å•ä¾‹ç±»å¿…é¡»ç»™æ‰€æœ‰å…¶ä»–å¯¹è±¡æä¾›è¿™ä¸€å®ä¾‹ã€‚</li></ol><hr><h2 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å•ä¾‹"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å•ä¾‹" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å•ä¾‹"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å•ä¾‹</h2><ul><li>åœ¨æˆ‘ä»¬çš„æ•´ä¸ªæ¸¸æˆç”Ÿå‘½å‘¨æœŸå½“ä¸­ï¼Œæœ‰å¾ˆå¤šå¯¹è±¡ä»å§‹è‡³ç»ˆæœ‰ä¸”åªæœ‰ä¸€ä¸ªã€‚è¿™ä¸ªå”¯ä¸€çš„å®ä¾‹åªéœ€è¦ç”Ÿæˆä¸€æ¬¡ï¼Œå¹¶ä¸”ç›´åˆ°æ¸¸æˆç»“æŸæ‰éœ€è¦é”€æ¯ã€‚</li><li>å•ä¾‹æ¨¡å¼ä¸€èˆ¬åº”ç”¨äºç®¡ç†å™¨ç±»ï¼Œæˆ–è€…æ˜¯ä¸€äº›éœ€è¦æŒä¹…åŒ–å­˜åœ¨çš„å¯¹è±¡ã€‚</li></ul><hr><h2 id="å•ä¾‹çš„å®ç°"><a href="#å•ä¾‹çš„å®ç°" class="headerlink" title="å•ä¾‹çš„å®ç°"></a>å•ä¾‹çš„å®ç°</h2><blockquote><p>c#å•ä¾‹çš„å®ç°(å¦‚æœåœ¨unityä¸­ä¸éœ€è¦ä½¿ç”¨monobeheviourï¼Œä¹Ÿå¯ä»¥è¿™æ ·æ¥åˆ›å»ºå•ä¾‹)ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public sealed class Singleton </span><br><span class="line">&#123; </span><br><span class="line">   private static volatile Singleton instance; </span><br><span class="line">   private static object syncRoot = new Object(); </span><br><span class="line">   public static Singleton Instance </span><br><span class="line">   &#123; </span><br><span class="line">      get  </span><br><span class="line">      &#123; </span><br><span class="line">         if (instance == null)  </span><br><span class="line">         &#123; </span><br><span class="line">            lock (syncRoot)  </span><br><span class="line">            &#123; </span><br><span class="line">               if (instance == null)  </span><br><span class="line">                  instance = new Singleton(); </span><br><span class="line">            &#125; </span><br><span class="line">         &#125; </span><br><span class="line">         return instance; </span><br><span class="line">      &#125; </span><br><span class="line">   &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>unityéœ€è¦ä½¿ç”¨monobeheviourçš„å•ä¾‹å®ç°ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public sealed class SingletonMoBehaviour: MonoBehaviour</span><br><span class="line">&#123; </span><br><span class="line">    private static volatile SingletonBehaviour instance; </span><br><span class="line">    private static object syncRoot = new Object(); </span><br><span class="line">    public static SingletonBehaviour Instance </span><br><span class="line">    &#123; </span><br><span class="line">        get  </span><br><span class="line">        &#123; </span><br><span class="line">            if (instance == null)  </span><br><span class="line">            &#123; </span><br><span class="line">                lock (syncRoot)  </span><br><span class="line">                &#123; </span><br><span class="line">                    if (instance == null)  &#123;</span><br><span class="line">                        SingletonBehaviour[] instances = FindObjectsOfType&lt;SingletonBehaviour&gt;();</span><br><span class="line">                        if (instances != null)&#123;</span><br><span class="line">                            for (var i = 0; i &lt; instances.Length; i++) &#123;</span><br><span class="line">                                Destroy(instances[i].gameObject);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        GameObject go = new GameObject(&quot;_SingletonBehaviour&quot;);</span><br><span class="line">                        instance = go.AddComponent&lt;SingletonBehaviour&gt;();</span><br><span class="line">                        DontDestroyOnLoad(go); </span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; </span><br><span class="line">            &#125; </span><br><span class="line">            return instance; </span><br><span class="line">        &#125; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><ul><li>å…¶ä¸­ä¸»è¦åŒºåˆ«åœ¨äºmonobeheviourä¸èƒ½ä½¿ç”¨æ„é€ å‡½æ•°è¿›è¡Œå®ä¾‹åŒ–ï¼Œåªèƒ½æŒ‚è½½åˆ°GameObjectä¸Šï¼Œè€Œåˆ‡æ¢åœºæ™¯æ—¶å½“å‰åœºæ™¯çš„GameObjectéƒ½ä¼šè¢«é”€æ¯ï¼Œæ‰€ä»¥å•ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ï¼Œè¿™é‡Œæˆ‘ä»¬å°±éœ€è¦DontDestroyOnLoadå¤„ç†ï¼ŒåŒæ—¶ä¸ºäº†ä¿æŒåœºæ™¯å½“ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬è¦å¯¹å½“å‰åœºæ™¯ä¸­çš„å•ä¾‹è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœå­˜åœ¨å…¶ä»–çš„å®ä¾‹ï¼Œåˆ™åº”è¯¥å°†å…¶å…¨éƒ¨åˆ é™¤ã€‚</li></ul>]]></content>
      
      <categories>
          
          <category> Unity </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Luaé¢å‘å¯¹è±¡</title>
      <link href="/2016/07/14/Lua%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"/>
      <url>/2016/07/14/Lua%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="é¢å‘å¯¹è±¡çš„ç‰¹å¾"><a href="#é¢å‘å¯¹è±¡çš„ç‰¹å¾" class="headerlink" title="é¢å‘å¯¹è±¡çš„ç‰¹å¾"></a>é¢å‘å¯¹è±¡çš„ç‰¹å¾</h2><ul><li>1ï¼‰ å°è£…ï¼šæŒ‡èƒ½å¤ŸæŠŠä¸€ä¸ªå®ä½“çš„ä¿¡æ¯ã€åŠŸèƒ½ã€å“åº”éƒ½è£…å…¥ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡ä¸­çš„ç‰¹æ€§ã€‚</li><li>2ï¼‰ ç»§æ‰¿ï¼šç»§æ‰¿çš„æ–¹æ³•å…è®¸åœ¨ä¸æ”¹åŠ¨åŸç¨‹åºçš„åŸºç¡€ä¸Šå¯¹å…¶è¿›è¡Œæ‰©å……ï¼Œè¿™æ ·ä½¿å¾—åŸåŠŸèƒ½å¾—ä»¥ä¿å­˜ï¼Œè€Œæ–°åŠŸèƒ½ä¹Ÿå¾—ä»¥æ‰©å±•ã€‚è¿™æœ‰åˆ©äºå‡å°‘é‡å¤ç¼–ç ï¼Œæé«˜è½¯ä»¶çš„å¼€å‘æ•ˆç‡ã€‚</li><li>3ï¼‰ å¤šæ€ï¼šåŒä¸€æ“ä½œä½œç”¨äºä¸åŒçš„å¯¹è±¡ï¼Œå¯ä»¥æœ‰ä¸åŒçš„è§£é‡Šï¼Œäº§ç”Ÿä¸åŒçš„æ‰§è¡Œç»“æœã€‚åœ¨è¿è¡Œæ—¶ï¼Œå¯ä»¥é€šè¿‡æŒ‡å‘åŸºç±»çš„æŒ‡é’ˆï¼Œæ¥è°ƒç”¨å®ç°æ´¾ç”Ÿç±»ä¸­çš„æ–¹æ³•ã€‚</li><li>4ï¼‰æŠ½è±¡ï¼šæŠ½è±¡æ˜¯ç®€åŒ–å¤æ‚çš„ç°å®é—®é¢˜çš„é€”å¾„ï¼Œå®ƒå¯ä»¥ä¸ºå…·ä½“é—®é¢˜æ‰¾åˆ°æœ€æ°å½“çš„ç±»å®šä¹‰ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æœ€æ°å½“çš„ç»§æ‰¿çº§åˆ«è§£é‡Šé—®é¢˜ã€‚</li></ul><hr><h2 id="Luaé¢å‘å¯¹è±¡"><a href="#Luaé¢å‘å¯¹è±¡" class="headerlink" title="Luaé¢å‘å¯¹è±¡"></a>Luaé¢å‘å¯¹è±¡</h2><p>Luaä¸­æœ€åŸºæœ¬çš„ç»“æ„æ˜¯tableï¼Œæ‰€ä»¥éœ€è¦ç”¨tableæ¥æè¿°å¯¹è±¡çš„å±æ€§ã€‚Luaä¸­çš„functionå¯ä»¥ç”¨æ¥è¡¨ç¤ºæ–¹æ³•ã€‚é‚£ä¹ˆLuaä¸­çš„ç±»å¯ä»¥é€šè¿‡table + functionæ¨¡æ‹Ÿå‡ºæ¥ã€‚<br>åŒæ—¶åœ¨Luaä¸­ï¼Œtableå°±æ˜¯ä¸€ç§å¯¹è±¡ã€‚é¦–å…ˆtableä¸å¯¹è±¡ä¸€æ ·å¯ä»¥æ‹¥æœ‰çŠ¶æ€ã€‚å…¶æ¬¡ï¼Œtableä¸å¯¹è±¡ä¸€æ ·æ‹¥æœ‰ä¸€ä¸ªç‹¬ç«‹äºå…¶å€¼çš„æ ‡è¯†ï¼ˆselfï¼‰ã€‚æœ€åtableä¸å¯¹è±¡ä¸€æ ·å…·æœ‰ç‹¬ç«‹äºåˆ›å»ºè€…å’Œåˆ›å»ºåœ°çš„ç”Ÿå‘½å‘¨æœŸã€‚<br>å¯¹è±¡æœ‰å…¶è‡ªå·±çš„æ“ä½œï¼Œåœ¨tableä¸­ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Account = &#123;balance = 0&#125;</span><br><span class="line">function Account.withdraw(v)</span><br><span class="line">    Account.balance = Account.balance - v</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p><p>ä»¥ä¸Šä»£ç ï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå¹¶å°†è¯¥å‡½æ•°å­˜å…¥Accountå¯¹è±¡çš„withdrawå­—æ®µä¸­ï¼Œå¯ä»¥è¿›è¡Œä»¥ä¸‹è°ƒç”¨ï¼š<br><code>Account.withdraw(100.00)</code><br>è¿™ç§å‡½æ•°å°±æ˜¯æ‰€è°“çš„â€œæ–¹æ³•â€ã€‚ä¸è¿‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨å…¨å±€åç§° Accountæ˜¯ä¸€ä¸ªä¸å¥½çš„å˜æˆä¹ æƒ¯ã€‚å› ä¸ºè¿™ä¸ªå‡½æ•°åªèƒ½é’ˆå¯¹ç‰¹å®šå¯¹è±¡å·¥ä½œï¼Œå¹¶ä¸”è¿™ä¸ªç‰¹å®šå¯¹è±¡è¿˜å¿…é¡»å­˜å‚¨åœ¨ç‰¹å®šçš„å…¨å±€ã€‚å¦‚æœæ”¹å˜äº†å¯¹è±¡çš„åç§°ï¼Œwithdrawå°±ä¸èƒ½ç»§ç»­å·¥ä½œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = Account</span><br><span class="line">Account = nil</span><br><span class="line">a.withdraw(100.0) --è¿™é‡Œä¼šæŠ¥é”™</span><br></pre></td></tr></table></figure></p><p>è¿™ç§åšæ³•è¿åäº†ä¹‹å‰æ‰€è¯´å¯¹è±¡çš„ç‰¹æ€§ï¼Œå³å¯¹è±¡æ‹¥æœ‰ç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸã€‚<br>æˆ‘ä»¬æœ‰ä¸€ç§çµæ´»çš„æ–¹å¼ï¼Œå³ç½®é¡¶ä¸€é¡¹æ“ä½œæ‰€åšç”¨çš„â€œæ¥å—è€…â€ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªé¢å¤–çš„å‚æ•°æ¥è¡¨ç¤ºè¯¥æ¥å—è€…ã€‚è¿™ä¸ªå‚æ•°é€šå¸¸ä¸ºselfæˆ–thisï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function Account.withdraw(self, v)</span><br><span class="line">    self.balance = self.balance - v</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">a1 = Account</span><br><span class="line">Account = nil</span><br><span class="line">a1.withdraw(a1, 7)</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨selfå‚æ•°æ˜¯æ‰€æœ‰é¢å‘å¯¹è±¡è¯­è¨€çš„ä¸€ä¸ªæ ¸å¿ƒï¼Œå¤§å¤šæ•°é¢å‘å¯¹è±¡è¯­è¨€éƒ½èƒ½å¯¹ç¨‹åºå‘˜éšè—éƒ¨åˆ†selfå‚æ•°ï¼Œä»è€Œä½¿çš„ç¨‹åºå‘˜ä¸å¿…æ˜¾å¼çš„ç”³æ˜è¿™ä¸ªå‚æ•°ã€‚åœ¨Luaä¸­ï¼Œåªéœ€è¦ä½¿ç”¨å†’å·ï¼Œåˆ™èƒ½éšè—è¯¥å‚æ•°ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function Account:withdraw(v)</span><br><span class="line">    self.balance = self.balance - v</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">a = Account</span><br><span class="line">a:withdraw(10)</span><br></pre></td></tr></table></figure></p><hr><h2 id="Luaä¸­çš„ç±»"><a href="#Luaä¸­çš„ç±»" class="headerlink" title="Luaä¸­çš„ç±»"></a>Luaä¸­çš„ç±»</h2><p>ç±»å¯ä»¥çœ‹ä½œä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¨¡å…·ã€‚å¤§å¤šé¢å‘å¯¹è±¡çš„è¯­è¨€éƒ½æä¾›äº†ç±»çš„æ¦‚å¿µï¼Œåœ¨è¿™äº›è¯­è¨€ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æ˜¯æŸä¸ªç‰¹å®šç±»çš„å®ä¾‹ã€‚Luaä¸­æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œæ¯ä¸ªå¯¹è±¡åªèƒ½è‡ªå®šä¹‰è¡Œä¸ºå’Œå½¢æ€ã€‚ä¸è¿‡åœ¨Luaä¸­å¯ä»¥æ¨¡æ‹Ÿç±»ï¼Œå¯ä»¥å‚æ•°ä¸€äº›åŸºäºåŸå‹çš„è¯­è¨€ï¼Œä¾‹å¦‚newtonscriptã€‚åœ¨è¿™äº›è¯­è¨€ä¸­å¯¹è±¡æ²¡æœ‰ç±»å‹ï¼Œè€Œæ˜¯æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåŸå‹ï¼ŒåŸå‹ä¹Ÿæ˜¯ä¸€ç§å¸¸è§„çš„å¯¹è±¡ï¼Œå½“å…¶ä»–å¯¹è±¡é‡åˆ°ä¸€ä¸ªæœªçŸ¥æ“ä½œæ—¶ï¼ŒåŸå‹ä¼šå…ˆæŸ¥æ‰¾å®ƒã€‚åœ¨è¿™ç§è¯­è¨€ä¸­è¦è¡¨ç¤ºä¸€ä¸ªç±»ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªä¸“ç”¨ä½œå…¶ä»–å¯¹è±¡çš„åŸå‹ã€‚<br>Luaä¸­å®ç°åŸå‹å¾ˆç®€å•ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªå¯¹è±¡ï¼Œaå’Œbï¼Œè¦è®©bä½œä¸ºaçš„ä¸€ä¸ªåŸå‹ï¼Œåªéœ€è¦å¦‚ä¸‹æ“ä½œï¼š<br><code>setmetatable(a, {__index = b})</code><br>ä¹‹åï¼Œaå°±ä¼šåœ¨bä¸­æŸ¥æ‰¾æ‰€æœ‰å®ƒæ²¡æœ‰çš„æ“ä½œï¼Œå¯ä»¥å°†bç§°ä¸ºå¯¹è±¡açš„ç±»ã€‚</p><p>åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œä¸ºäº†åˆ›å»ºæ›´å¤šçš„Accountï¼Œå¯ä»¥è®©è¿™äº›æ–°çš„å¯¹è±¡å¯ä»¥ä»Accountè¡Œä¸ºä¸­ç»§æ‰¿è¿™äº›æ“ä½œï¼Œå…·ä½“çš„åšæ³•å°±æ˜¯ä½¿ç”¨__indexå…ƒæ–¹æ³•ã€‚å¯ä»¥åº”ç”¨ä¸€äº›ä¼˜åŒ–ï¼Œæ— éœ€åˆ›å»ºä¸€ä¸ªé¢å¤–çš„tableä½œä¸ºå…ƒè¡¨ï¼Œè€Œæ˜¯ä½¿ç”¨Account tableè‡ªèº«ä½œä¸ºå…ƒè¡¨ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function Account:new(o)</span><br><span class="line">    o = o or &#123;&#125; --å¦‚æœæ²¡æœ‰æä¾›tableï¼Œåˆ™åˆ›å»ºä¸€ä¸ª</span><br><span class="line">    setmetatable(o, self)</span><br><span class="line">    self.__index = self</span><br><span class="line">    return o</span><br><span class="line">end</span><br><span class="line">a = Account:new&#123;balance = 0&#125;</span><br><span class="line">a : withdraw(7)</span><br></pre></td></tr></table></figure></p><p>ä¸‹é¢æä¾›ä¸€ä¸ªå®Œæ•´çš„å®ä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Shape = &#123;area = 0&#125;</span><br><span class="line">-- åŸºç¡€ç±»æ–¹æ³• new</span><br><span class="line">function Shape:new (o,side)</span><br><span class="line">  o = o or &#123;&#125;</span><br><span class="line">  setmetatable(o, self)</span><br><span class="line">  self.__index = self</span><br><span class="line">  side = side or 0</span><br><span class="line">  self.area = side*side;</span><br><span class="line">  return o</span><br><span class="line">end</span><br><span class="line">-- åŸºç¡€ç±»æ–¹æ³• printArea</span><br><span class="line">function Shape:printArea ()</span><br><span class="line">  print(&quot;é¢ç§¯ä¸º &quot;,self.area)</span><br><span class="line">end</span><br><span class="line">-- åˆ›å»ºå¯¹è±¡</span><br><span class="line">myshape = Shape:new(nil,10)</span><br><span class="line">myshape:printArea()</span><br></pre></td></tr></table></figure></p><hr><h2 id="Luaç»§æ‰¿"><a href="#Luaç»§æ‰¿" class="headerlink" title="Luaç»§æ‰¿"></a>Luaç»§æ‰¿</h2><p>ç»§æ‰¿æ˜¯æŒ‡ä¸€ä¸ªå¯¹è±¡ç›´æ¥ä½¿ç”¨å¦ä¸€å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚å¯ç”¨äºæ‰©å±•åŸºç¡€ç±»çš„å±æ€§å’Œæ–¹æ³•ã€‚<br>ä»¥ä¸‹æ¼”ç¤ºäº†ä¸€ä¸ªç®€å•çš„ç»§æ‰¿å®ä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">Shape = &#123;area = 0&#125;</span><br><span class="line">-- åŸºç¡€ç±»æ–¹æ³• new</span><br><span class="line">function Shape:new (o,side)</span><br><span class="line">  o = o or &#123;&#125;</span><br><span class="line">  setmetatable(o, self)</span><br><span class="line">  self.__index = self</span><br><span class="line">  side = side or 0</span><br><span class="line">  self.area = side*side;</span><br><span class="line">  return o</span><br><span class="line">end</span><br><span class="line">-- åŸºç¡€ç±»æ–¹æ³• printArea</span><br><span class="line">function Shape:printArea ()</span><br><span class="line">  print(&quot;é¢ç§¯ä¸º &quot;,self.area)</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- åˆ›å»ºå¯¹è±¡</span><br><span class="line">myshape = Shape:new(nil,10)</span><br><span class="line">myshape:printArea()</span><br><span class="line"></span><br><span class="line">Square = Shape:new()</span><br><span class="line">-- æ´¾ç”Ÿç±»æ–¹æ³• new</span><br><span class="line">function Square:new (o,side)</span><br><span class="line">  o = o or Shape:new(o,side)</span><br><span class="line">  setmetatable(o, self)</span><br><span class="line">  self.__index = self</span><br><span class="line">  return o</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- æ´¾ç”Ÿç±»æ–¹æ³• printArea</span><br><span class="line">function Square:printArea ()</span><br><span class="line">  print(&quot;æ­£æ–¹å½¢é¢ç§¯ä¸º &quot;,self.area)</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- åˆ›å»ºå¯¹è±¡</span><br><span class="line">mysquare = Square:new(nil,10)</span><br><span class="line">mysquare:printArea()</span><br><span class="line"></span><br><span class="line">Rectangle = Shape:new()</span><br><span class="line">-- æ´¾ç”Ÿç±»æ–¹æ³• new</span><br><span class="line">function Rectangle:new (o,length,breadth)</span><br><span class="line">  o = o or Shape:new(o)</span><br><span class="line">  setmetatable(o, self)</span><br><span class="line">  self.__index = self</span><br><span class="line">  self.area = length * breadth</span><br><span class="line">  return o</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- æ´¾ç”Ÿç±»æ–¹æ³• printArea</span><br><span class="line">function Rectangle:printArea ()</span><br><span class="line">  print(&quot;çŸ©å½¢é¢ç§¯ä¸º &quot;,self.area)</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- åˆ›å»ºå¯¹è±¡</span><br><span class="line">myrectangle = Rectangle:new(nil,10,20)</span><br><span class="line">myrectangle:printArea()</span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> Lua </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OOP </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Luaè¿›é˜¶</title>
      <link href="/2016/07/09/Lua%E8%BF%9B%E9%98%B6/"/>
      <url>/2016/07/09/Lua%E8%BF%9B%E9%98%B6/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="Luaåç¨‹"><a href="#Luaåç¨‹" class="headerlink" title="Luaåç¨‹"></a>Luaåç¨‹</h2><ul><li>åç¨‹ç±»ä¼¼äºçº¿ç¨‹ï¼Œæ˜¯ä¸€æ¡æ‰§è¡Œåºåˆ—ï¼Œæ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„æ ˆã€å±€éƒ¨å˜é‡å’ŒæŒ‡ä»¤æŒ‡é’ˆï¼ŒåŒæ—¶ä¸å…¶ä»–åç¨‹å…±äº«å…¨å±€å˜é‡ç­‰ã€‚</li><li>çº¿ç¨‹ä¸ååŒç¨‹åºçš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œä¸€ä¸ªå…·æœ‰å¤šä¸ªçº¿ç¨‹çš„ç¨‹åºå¯ä»¥åŒæ—¶è¿è¡Œå‡ ä¸ªçº¿ç¨‹ï¼Œè€ŒååŒç¨‹åºå´éœ€è¦å½¼æ­¤åä½œçš„è¿è¡Œã€‚å°±æ˜¯è¯´ï¼Œä¸€ä¸ªå…·æœ‰å¤šä¸ªåç¨‹çš„ç¨‹åºåœ¨ä»»æ„æ—¶åˆ»åªèƒ½è¿è¡Œä¸€ä¸ªåç¨‹ï¼Œå¹¶ä¸”æ­£åœ¨è¿è¡Œçš„åç¨‹åªæœ‰åœ¨å…¶æ˜¾å¼çš„è¦æ±‚æŒ‚èµ·æ—¶ï¼Œä»–çš„æ‰§è¡Œæ‰ä¼šæš‚åœã€‚</li><li>Luaå°†æ‰€æœ‰åç¨‹ç›¸å…³çš„å‡½æ•°æ”¾åœ¨ä¸€ä¸ªåä¸ºâ€œcoroutineâ€çš„tableä¸­ï¼Œå…¶ä¸­ä¸»è¦æ–¹æ³•æœ‰ï¼š</li></ul><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>create()</td><td>ç”¨äºåˆ›å»ºæ–°çš„åç¨‹ï¼Œè¿”å›ä¸€ä¸ªåç¨‹ç±»å‹çš„å€¼ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°</td></tr><tr><td>resume()</td><td>ç”¨äºå¯åŠ¨æˆ–é‡å¯ä¸€ä¸ªåç¨‹</td></tr><tr><td>yield()</td><td>æŒ‚èµ·ä¸€ä¸ªåç¨‹</td></tr><tr><td>wrap()</td><td>åˆ›å»ºä¸€ä¸ªæ–°åç¨‹ï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¼€å¯åç¨‹</td></tr><tr><td>status()</td><td>æŸ¥çœ‹åç¨‹çŠ¶æ€</td></tr></tbody></table><blockquote><p>é€šè¿‡statuså¯ä»¥æŸ¥çœ‹åˆ°ä¸€ä¸ªåç¨‹å¯ä»¥å¤„äº4ç§ä¸åŒçš„çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯æŒ‚èµ·ï¼ˆsuspendedï¼‰ã€è¿è¡Œï¼ˆrunningï¼‰ã€æ­»äº¡ï¼ˆdeadï¼‰ã€æ­£å¸¸ï¼ˆnormalï¼‰ï¼Œå½“åˆ›å»ºä¸€ä¸ªåç¨‹æ—¶ï¼Œå®ƒå¤„äºæŒ‚èµ·çŠ¶æ€:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">co = coroutine.create(</span><br><span class="line">        function ()</span><br><span class="line">            print(&apos;Hello, World&apos;)</span><br><span class="line">        end</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">print(coroutine.status(co))</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>è¾“å‡ºï¼š<code>suspended --åç¨‹å¤„äºæŒ‚èµ·çŠ¶æ€</code>  </p></blockquote><blockquote><p>é€šè¿‡resumeå¯åŠ¨è¿™ä¸ªåç¨‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">coroutine.resume(co)</span><br><span class="line">print(coroutine.status(co))</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>è¾“å‡ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hello, World</span><br><span class="line">dead -- å¤„äºæ­»äº¡çŠ¶æ€</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>åç¨‹çœŸæ­£å¼ºå¤§ä¹‹å¤„åœ¨äºyieldå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥ä½¿ä¸€ä¸ªè¿è¡Œä¸­çš„åç¨‹å¤„äºæŒ‚èµ·ï¼Œè€Œåå†æ¢å¤ä»–çš„è¿è¡Œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">co = coroutine.create(</span><br><span class="line">        function ()</span><br><span class="line">            for i = 1, 10 do</span><br><span class="line">                print(i)</span><br><span class="line">                coroutine.yield()</span><br><span class="line">            end</span><br><span class="line"> end)</span><br><span class="line"></span><br><span class="line">coroutine.resume(co)</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>è¾“å‡ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">suspended --å¤„äºæŒ‚èµ·çŠ¶æ€</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>åœ¨è¿™é‡Œï¼Œå½“å”¤é†’åç¨‹æ—¶å®ƒå¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°yieldï¼Œåç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œæ­¤æ—¶çš„æ´»åŠ¨éƒ½å‘ç”Ÿåœ¨yieldè°ƒç”¨ä¸­ï¼Œå½“æ¢å¤åç¨‹æ‰§è¡Œï¼Œå¯¹äºyieldçš„è°ƒç”¨æ‰ä¼šæœ€ç»ˆè¿”å›ï¼Œç„¶åå†™æˆç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°ä¸‹ä¸€ä¸ªyieldæˆ–æ‰§è¡Œç»“æŸï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for i = 1, 10 do</span><br><span class="line">    coroutine.resume(co)</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>è¾“å‡ºï¼š<code>2 3 4 5 6 7 8 9 10</code><br>å†æœ€åä¸€æ¬¡è°ƒç”¨æ—¶ï¼Œåç¨‹çš„å†…å®¹å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶å·²ç»è¿”å›ã€‚å› æ­¤è¿™æ˜¯çš„åç¨‹å¤„äºæ­»äº¡çŠ¶æ€ï¼Œæ²¡æœ‰è¾“å‡ºï¼Œå¦‚æœè¯•å›¾å†æ¬¡æ‰§è¡Œå®ƒï¼Œresumeå°†è¿”å›falseåŠä¸€æ¡é”™è¯¯ä¿¡æ¯ï¼š<code>print(coroutine.resume(co))</code><br>è¾“å‡ºï¼š<code>false    cannot resume dead coroutine</code>  </p></blockquote><blockquote><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç»¼åˆçš„å®ä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">function foo (a)</span><br><span class="line">    print(&quot;foo å‡½æ•°è¾“å‡º&quot;, a)</span><br><span class="line">    return coroutine.yield(2 * a) -- è¿”å›  2*a çš„å€¼</span><br><span class="line">end</span><br><span class="line"> </span><br><span class="line">co = coroutine.create(function (a , b)</span><br><span class="line">    print(&quot;ç¬¬ä¸€æ¬¡ååŒç¨‹åºæ‰§è¡Œè¾“å‡º&quot;, a, b) -- co-body 1 10</span><br><span class="line">    local r = foo(a + 1)</span><br><span class="line">     </span><br><span class="line">    print(&quot;ç¬¬äºŒæ¬¡ååŒç¨‹åºæ‰§è¡Œè¾“å‡º&quot;, r)</span><br><span class="line">    local r, s = coroutine.yield(a + b, a - b)  -- aï¼Œbçš„å€¼ä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ååŒç¨‹åºæ—¶ä¼ å…¥</span><br><span class="line">     </span><br><span class="line">    print(&quot;ç¬¬ä¸‰æ¬¡ååŒç¨‹åºæ‰§è¡Œè¾“å‡º&quot;, r, s)</span><br><span class="line">    return b, &quot;ç»“æŸååŒç¨‹åº&quot;                   -- bçš„å€¼ä¸ºç¬¬äºŒæ¬¡è°ƒç”¨ååŒç¨‹åºæ—¶ä¼ å…¥</span><br><span class="line">end)</span><br><span class="line">        </span><br><span class="line">print(&quot;main&quot;, coroutine.resume(co, 1, 10)) -- true, 4</span><br><span class="line">print(&quot;--åˆ†å‰²çº¿----&quot;)</span><br><span class="line">print(&quot;main&quot;, coroutine.resume(co, &quot;r&quot;)) -- true 11 -9</span><br><span class="line">print(&quot;---åˆ†å‰²çº¿---&quot;)</span><br><span class="line">print(&quot;main&quot;, coroutine.resume(co, &quot;x&quot;, &quot;y&quot;)) -- true 10 end</span><br><span class="line">print(&quot;---åˆ†å‰²çº¿---&quot;)</span><br><span class="line">print(&quot;main&quot;, coroutine.resume(co, &quot;x&quot;, &quot;y&quot;)) -- cannot resume dead coroutine</span><br><span class="line">print(&quot;---åˆ†å‰²çº¿---&quot;)</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>è¾“å‡º:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ¬¡ååŒç¨‹åºæ‰§è¡Œè¾“å‡º     1     10</span><br><span class="line">foo å‡½æ•°è¾“å‡º     2</span><br><span class="line">main     true     4</span><br><span class="line">--åˆ†å‰²çº¿----</span><br><span class="line">ç¬¬äºŒæ¬¡ååŒç¨‹åºæ‰§è¡Œè¾“å‡º     r</span><br><span class="line">main     true     11     -9</span><br><span class="line">---åˆ†å‰²çº¿---</span><br><span class="line">ç¬¬ä¸‰æ¬¡ååŒç¨‹åºæ‰§è¡Œè¾“å‡º     x     y</span><br><span class="line">main     true     10     ç»“æŸååŒç¨‹åº</span><br><span class="line">---åˆ†å‰²çº¿---</span><br><span class="line">main     false     cannot resume dead coroutine</span><br><span class="line">---åˆ†å‰²çº¿---</span><br></pre></td></tr></table></figure></p></blockquote><hr><h2 id="Luaå…ƒè¡¨å’Œå…ƒæ–¹æ³•"><a href="#Luaå…ƒè¡¨å’Œå…ƒæ–¹æ³•" class="headerlink" title="Luaå…ƒè¡¨å’Œå…ƒæ–¹æ³•"></a>Luaå…ƒè¡¨å’Œå…ƒæ–¹æ³•</h2><ul><li>é€šå¸¸Luaä¸­çš„æ¯ä¸ªå€¼éƒ½æœ‰ä¸€å¥—é¢„å®šä¹‰çš„æ“ä½œé›†åˆã€‚ä¾‹å¦‚æ•°å­—å››åˆ™è¿ç®—ï¼Œå­—ç¬¦ä¸²é“¾æ¥ï¼Œå¢åŠ tableçš„é”®å€¼å¯¹ç­‰ã€‚ä½†æ— æ³•å°†ä¸¤ä¸ªtableç›¸åŠ ,æ— æ³•å¯¹å‡½æ•°åšæ¯”è¾ƒï¼Œä¹Ÿæ— æ³•è°ƒç”¨å­—ç¬¦ä¸²ã€‚</li><li>æˆ‘ä»¬å¯ä»¥é€šè¿‡å…ƒè¡¨æ¥ä¿®æ”¹ä¸€ä¸ªå€¼çš„è¡Œä¸ºï¼Œä½¿å…¶åœ¨é¢å¯¹ä¸€ä¸ªéé¢„å®šä¹‰çš„æ“ä½œæ—¶æ‰§è¡Œä¸€ä¸ªæŒ‡å®šçš„æ“ä½œã€‚å¦‚ä¸Šæ‰€è¯‰ï¼Œå¯ä»¥é€šè¿‡å…ƒè¡¨è®©ä¸¤ä¸ªtableç›¸åŠ ã€‚å½“Luaè¯•å›¾å°†ä¸¤ä¸ªtableç›¸åŠ æ—¶ï¼Œä¼šå…ˆæ£€æµ‹ä¸¤è€…ä¹‹ä¸€æ˜¯å¦æœ‰å…ƒè¡¨ï¼Œç„¶åæ£€æµ‹è¯¥å…ƒè¡¨ä¸­æ˜¯å¦æœ‰__addå­—æ®µï¼Œè‹¥æ‰¾åˆ°è¯¥å­—æ®µï¼Œå°±è°ƒç”¨è¯¥å­—æ®µå¯¹åº”çš„å€¼ã€‚è¿™ä¸ªå€¼ä¹Ÿå°±æ˜¯æ‰€è°“çš„å…ƒæ–¹æ³•ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–è€…tableï¼‰ï¼Œè¿™ä¸ªå‡½æ•°ä¼šç”¨äºè®¡ç®—ä¸¤ä¸ªtableçš„å’Œã€‚</li><li>Luaä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªå…ƒè¡¨ï¼Œtableå’Œuserdataå¯ä»¥æœ‰å„è‡ªç‹¬ç«‹çš„å…ƒè¡¨ï¼Œå…¶ä»–ç±»å‹åˆ™å…±äº«å…¶ç±»å‹æ‰€å±çš„å•ä¸€å…ƒè¡¨ã€‚Luaåœ¨åˆ›å»ºæ–°çš„tableæ—¶ä¸ä¼šåˆ›å»ºå…ƒè¡¨ã€‚<blockquote><p>Luaä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„å‡½æ•°å¤„ç†å…ƒè¡¨:</p></blockquote></li><li><strong>setmetatable(table, metatable):</strong> å¯¹æŒ‡å®štableè®¾ç½®å…ƒè¡¨(metatable)ï¼Œå¦‚æœå…ƒè¡¨(metatable)ä¸­å­˜åœ¨__metatableé”®å€¼ï¼Œsetmetatableä¼šå¤±è´¥ ã€‚</li><li><strong>getmetatable(table):</strong> è¿”å›å¯¹è±¡çš„å…ƒè¡¨(metatable)ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t = &#123;&#125;</span><br><span class="line">t1 = &#123;&#125;</span><br><span class="line">setmetatable(t, t1)</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢çš„ä»£ç å¯ä»¥ç®€åŒ–ä¸ºä¸€è¡Œï¼š<br><code>t = setmetatable({}, {})</code></p></blockquote><ul><li>ä»»ä½•tableéƒ½å¯ä»¥ä½œä¸ºä»»ä½•å€¼çš„å…ƒè¡¨ï¼Œè€Œä¸€ç»„ç›¸å…³çš„tableä¹Ÿå¯ä»¥å…±äº«ä¸€ä¸ªé€šç”¨çš„å…ƒè¡¨ï¼Œæ­¤å…ƒè¡¨æè¿°äº†ä»–ä»¬çš„å…±åŒè¡Œä¸ºã€‚ä¸€ä¸ªtableç”šè‡³å¯ä»¥ä½œä¸ºå…¶è‡ªå·±çš„å…ƒè¡¨ï¼Œç”¨äºæè¿°å…¶ç‰¹æœ‰çš„è¡Œä¸ºã€‚</li><li>åœ¨Luaä»£ç ä¸­åªèƒ½è®¾ç½®tableçš„å…ƒè¡¨ï¼Œè‹¥è¦è®¾ç½®å…¶ä»–ç±»å‹å€¼çš„å…ƒè¡¨ï¼Œåˆ™å¿…é¡»é€šè¿‡cä»£ç æ¥å®Œæˆã€‚</li></ul><h3 id="indexå…ƒæ–¹æ³•"><a href="#indexå…ƒæ–¹æ³•" class="headerlink" title="__indexå…ƒæ–¹æ³•"></a><strong>__indexå…ƒæ–¹æ³•</strong></h3><ul><li>å½“è®¿é—®ä¸€ä¸ªtableä¸å­˜åœ¨çš„å­—æ®µæ—¶ï¼Œä¼šè¿”å›nilã€‚è¿™äº›è®¿é—®ä¼šä¿ƒä½¿è§£é‡Šå™¨å»æŸ¥æ‰¾ä¸€ä¸ªå«åš__indexçš„å…ƒæ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆè®¿é—®ç»“æœå°±ä¼šä¸ºnilï¼Œå¦åˆ™å°±ç”±è¿™ä¸ªå…ƒæ–¹æ³•æ¥æä¾›ç»“æœã€‚</li></ul><p>å‡è®¾è¦åˆ›å»ºä¸€ä¸ªçª—å£çš„tableï¼Œtableä¸­éœ€è¦æœ‰ä½ç½®ã€å¤§å°ã€èƒŒæ™¯ç­‰å‚æ•°ï¼Œæ‰€æœ‰å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œå› æ­¤å¸Œæœ›åœ¨åˆ›å»ºçª—å£å¯¹è±¡æ—¶å¯ä»¥ä»…æŒ‡å®šé™¤äº†é»˜è®¤å€¼çš„å…¶ä»–å‚æ•°ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å®ç°ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">window = &#123;&#125; --å‘½åç©ºé—´</span><br><span class="line">window.prototype = &#123;x = 0, y = 0, width = 70, height = 70&#125; --åŸå‹çª—å£</span><br><span class="line">window.mt = &#123;&#125; --åˆ›å»ºå…ƒè¡¨</span><br><span class="line">function window.new(o) --å£°æ˜æ„é€ å‡½æ•°</span><br><span class="line">    setmetatable(o, window.mt)</span><br><span class="line">    return o</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">window.mt.__index = function(table, key) --å®šä¹‰å…ƒæ–¹æ³•</span><br><span class="line">    return window.prototype[key]</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">w = window.new&#123;x = 10, y = 20&#125; -- åˆ›å»ºä¸€ä¸ªæ–°çª—å£</span><br><span class="line">print(w.width)--æŸ¥è¯¢å®ƒæ²¡æœ‰çš„å­—æ®µ</span><br><span class="line">--è¿™é‡Œè¾“å‡º 70</span><br></pre></td></tr></table></figure></p><h3 id="newindexå…ƒæ–¹æ³•"><a href="#newindexå…ƒæ–¹æ³•" class="headerlink" title="__newindexå…ƒæ–¹æ³•"></a><strong>__newindexå…ƒæ–¹æ³•</strong></h3><ul><li><strong>newindexå…ƒæ–¹æ³•å’Œ</strong>indexç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå‰è€…ç”¨äºtableæ›´æ–°ï¼Œè€Œåè€…ç”¨äºåœ¨tableä¸­æŸ¥è¯¢ï¼Œå½“å¯¹ä¸€ä¸ªtableä¸­ä¸å­˜åœ¨çš„ç´¢å¼•èµ‹å€¼æ—¶ï¼Œè§£é‡Šå™¨å°±ä¼šæŸ¥æ‰¾è¿™ä¸ªå…ƒæ–¹æ³•ï¼Œå¦‚æœæœ‰ï¼Œè§£é‡Šå™¨å°±è°ƒç”¨å®ƒï¼Œè€Œä¸æ˜¯æ‰§è¡Œèµ‹å€¼ã€‚å¦‚æœè¿™ä¸ªå…ƒæ–¹æ³•æ˜¯ä¸€ä¸ªtableï¼Œè§£é‡Šå™¨å°±åœ¨è¿™ä¸ªtableä¸­èµ‹å€¼ï¼Œè€Œä¸æ˜¯å¯¹åŸæ¥çš„tableã€‚ä¾‹ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">t1 = &#123;&#125;</span><br><span class="line">t = setmetatable(&#123;key1 = &quot;value1&quot;&#125;, &#123; __newindex = t1 &#125;)</span><br><span class="line"></span><br><span class="line">print(t.key1)</span><br><span class="line"></span><br><span class="line">t.newkey = &quot;æ–°å€¼2&quot;</span><br><span class="line">print(t.newkey,t1.newkey)</span><br><span class="line"></span><br><span class="line">t.key1 = &quot;æ–°å€¼1&quot;</span><br><span class="line">print(t.key1,t1.key1)</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">value1</span><br><span class="line">nil   æ–°å€¼2</span><br><span class="line">æ–°å€¼1   nil</span><br></pre></td></tr></table></figure></p></blockquote><h3 id="ç®—æ•°ç±»å…ƒæ–¹æ³•"><a href="#ç®—æ•°ç±»å…ƒæ–¹æ³•" class="headerlink" title="ç®—æ•°ç±»å…ƒæ–¹æ³•"></a><strong>ç®—æ•°ç±»å…ƒæ–¹æ³•</strong></h3><ul><li>Luaä¸­æ¯ç§ç®—æ•°æ“ä½œç¬¦éƒ½æœ‰å¯¹åº”çš„å­—æ®µåï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</li></ul><table><thead><tr><th>å­—æ®µå</th><th>æè¿°</th></tr></thead><tbody><tr><td>__add</td><td>å¯¹åº”è¿ç®—ç¬¦â€+â€</td></tr><tr><td>__sub</td><td>å¯¹åº”è¿ç®—ç¬¦â€-â€</td></tr><tr><td>__mul</td><td>å¯¹åº”è¿ç®—ç¬¦â€*â€</td></tr><tr><td>__div</td><td>å¯¹åº”è¿ç®—ç¬¦â€/â€</td></tr><tr><td>__unm</td><td>å¯¹åº”è¿ç®—ç¬¦â€-â€</td></tr><tr><td>__concat</td><td>å¯¹åº”è¿ç®—ç¬¦â€..â€</td></tr><tr><td>__eq</td><td>å¯¹åº”è¿ç®—ç¬¦â€==â€</td></tr><tr><td>__mod</td><td>å¯¹åº”è¿ç®—ç¬¦â€%â€</td></tr><tr><td>__pow</td><td>å¯¹åº”è¿ç®—ç¬¦â€^â€</td></tr><tr><td>__lt</td><td>å¯¹åº”è¿ç®—ç¬¦â€&lt;â€</td></tr></tbody></table><h3 id="tostringå…ƒæ–¹æ³•"><a href="#tostringå…ƒæ–¹æ³•" class="headerlink" title="__tostringå…ƒæ–¹æ³•"></a><strong>__tostringå…ƒæ–¹æ³•</strong></h3><ul><li>å‡½æ•°printæ€»æ˜¯è°ƒç”¨tostringæ¥æ ¼å¼åŒ–è¾“å‡ºã€‚å½“æ ¼å¼åŒ–ä»»æ„å€¼æ—¶ï¼Œtosrtingä¼šæ£€æŸ¥è¯¥å€¼æ˜¯å¦æœ‰__tostringå…ƒæ–¹æ³•ï¼Œå¦‚æœæœ‰ï¼Œtostringå°±ä¼šç”¨è¯¥å€¼ä½œä¸ºå‚æ•°æ¥è°ƒç”¨è¿™ä¸ªå…ƒæ–¹æ³•ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">t = setmetatable(&#123; 10, 20, 30 &#125;, &#123;</span><br><span class="line">    __tostring = function(t)</span><br><span class="line">        sum = 0</span><br><span class="line">        for k, v in pairs(t) do</span><br><span class="line">            sum = sum + v</span><br><span class="line">        end</span><br><span class="line">        return &quot;è¡¨æ‰€æœ‰å…ƒç´ çš„å’Œä¸º &quot; .. sum</span><br><span class="line">    end</span><br><span class="line">&#125;)</span><br><span class="line">print(t)</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š<code>è¡¨æ‰€æœ‰å…ƒç´ çš„å’Œä¸º 60</code>  </p></blockquote>]]></content>
      
      <categories>
          
          <category> Lua </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LuaåŸºç¡€</title>
      <link href="/2016/07/04/Lua%E5%9F%BA%E7%A1%80/"/>
      <url>/2016/07/04/Lua%E5%9F%BA%E7%A1%80/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="Lua-IDE"><a href="#Lua-IDE" class="headerlink" title="Lua IDE"></a><strong>Lua IDE</strong></h2><p>Macç«¯Lua IDEæ¨èä½¿ç”¨Intellij+EmmyLuaã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä½¿ç”¨è¿‡æœ€å¥½çš„Lua IDE<br>ä¸‹è½½åœ°å€ï¼š<a href="https://www.jetbrains.com/idea/" target="_blank" rel="noopener">IntelliJ IDEA</a><br>EmmyLuaå®‰è£…æ–¹æ³•ï¼šPreferences â€”â€”&gt;Plugins â€”â€”&gt;æœç´¢EmmyLua<br><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1frejiznphnj31di14m7ew.jpg" alt=""></p><blockquote><p>åœ¨ä½¿ç”¨EmmyLuaæ—¶å‡ºç°bugï¼Œæˆ–å¯¹æ­¤æ’ä»¶æœ‰ä»€ä¹ˆå»ºè®®ï¼Œå¯ä»¥åŠ ç¾¤ï¼š<code>29860775</code>è¿›è¡Œåé¦ˆ  </p></blockquote><hr><h2 id="Lua-æ•°æ®ç±»å‹"><a href="#Lua-æ•°æ®ç±»å‹" class="headerlink" title="Lua æ•°æ®ç±»å‹"></a><strong>Lua æ•°æ®ç±»å‹</strong></h2><p>Luaæ˜¯ä¸€ç§åŠ¨æ€ç±»å‹çš„è¯­è¨€ã€‚åœ¨è¯­è¨€ä¸­æ²¡æœ‰ç±»å‹å®šä¹‰çš„è¯­æ³•ï¼Œæ¯ä¸ªå€¼éƒ½æºå¸¦äº†å®ƒè‡ªèº«çš„ç±»å‹ä¿¡æ¯ã€‚<br>åœ¨Luaä¸­æœ‰8ç§åŸºç¡€ç±»å‹ï¼Œåˆ†åˆ«æ˜¯nilã€booleanã€numberã€stringã€userdataã€functionã€threadå’Œtable</p><table><thead><tr><th>åç§°</th><th>æ•°æ®ç±»å‹</th><th>æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>nil</td><td>ç©ºç±»å‹</td><td>è¡¨ç¤ºä¸€ä¸ªæ— æ•ˆå€¼</td><td>a</td></tr><tr><td>boolean</td><td>å¸ƒå°”</td><td>åŒ…å«ä¸¤ä¸ªå€¼ï¼šfalseå’Œtrue</td><td>a = true</td></tr><tr><td>number</td><td>æ•°å­—</td><td>åŒç²¾åº¦ç±»å‹çš„å®æµ®ç‚¹æ•°</td><td>a = 7</td></tr><tr><td>string</td><td>å­—ç¬¦ä¸²</td><td>ç”±ä¸€å¯¹åŒå¼•å·æˆ–å•å¼•å·æ¥è¡¨ç¤º</td><td>a = â€˜yuâ€™</td></tr><tr><td>userdata</td><td>è‡ªå®šä¹‰ç±»å‹</td><td>ä»»æ„å­˜å‚¨åœ¨å˜é‡ä¸­çš„Cæ•°æ®ç»“æ„</td><td>æ ‡å‡†i/oåº“</td></tr><tr><td>function</td><td>å‡½æ•°</td><td>ç”± C æˆ– Lua ç¼–å†™çš„å‡½æ•°</td><td>è§ä¸‹æ–‡</td></tr><tr><td>thread</td><td>åç¨‹</td><td>è¡¨ç¤ºæ‰§è¡Œçš„ç‹¬ç«‹çº¿è·¯ï¼Œç”¨äºæ‰§è¡ŒååŒç¨‹åº</td><td></td></tr><tr><td>table</td><td>è¡¨</td><td>Lua ä¸­çš„è¡¨å…¶å®æ˜¯ä¸€ä¸ªâ€å…³è”æ•°ç»„â€</td><td>a = {}</td></tr></tbody></table><hr><h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a><strong>å­—ç¬¦ä¸²</strong></h2><ul><li>Luaä¸­çš„å­—ç¬¦ä¸²é€šå¸¸è¡¨ç¤ºâ€œä¸€ä¸ªå­—ç¬¦åºåˆ—â€ã€‚</li><li>Luaå®Œå…¨é‡‡ç”¨8ä½ç¼–ç ï¼ŒLuaå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦å¯ä»¥å…·æœ‰ä»»ä½•æ•°å€¼ç¼–ç ï¼ŒåŒ…æ‹¬æ•°å€¼0ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥å°†ä»»æ„äºŒè¿›åˆ¶æ•°æ®å­˜å‚¨åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚</li><li>Luaçš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„å€¼ã€‚</li><li>Luaçš„å­—ç¬¦ä¸²å’Œå…¶ä»–Luaå¯¹è±¡ä¸€æ ·ï¼Œéƒ½æ˜¯è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶æ‰€ç®¡ç†çš„å¯¹è±¡</li><li>Luaå­—ç¬¦ä¸²å¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼æ¥è¡¨ç¤ºï¼š<br><code>s = &#39;Hello, World&#39;</code><br><code>s = &quot;Hello, World&quot;</code></li><li>Lua æä¾›äº†å¾ˆå¤šçš„æ–¹æ³•æ¥æ”¯æŒå­—ç¬¦ä¸²çš„æ“ä½œï¼Œå¯ä»¥æŸ¥é˜…<a href="https://www.runoob.com/lua/lua-strings.html" target="_blank" rel="noopener">Lua å­—ç¬¦ä¸²</a>æ¥äº†è§£æ›´å¤š</li></ul><hr><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a><strong>å˜é‡</strong></h2><ul><li>Lua å˜é‡æœ‰ä¸¤ç§ç±»å‹ï¼šå…¨å±€å˜é‡ã€å±€éƒ¨å˜é‡ã€‚</li><li>Lua ä¸­çš„å˜é‡å…¨æ˜¯å…¨å±€å˜é‡ï¼Œé‚£æ€•æ˜¯è¯­å¥å—æˆ–æ˜¯å‡½æ•°é‡Œï¼Œé™¤éç”¨ local æ˜¾å¼å£° æ˜ä¸ºå±€éƒ¨å˜é‡ã€‚</li><li>å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸä¸ºä»å£°æ˜ä½ç½®å¼€å§‹åˆ°æ‰€åœ¨è¯­å¥å—ç»“æŸã€‚</li><li>å˜é‡çš„é»˜è®¤å€¼å‡ä¸º nilã€‚<br><code>local i = 1 --å±€éƒ¨å˜é‡</code></li></ul><hr><h2 id="Lua-æµç¨‹æ§åˆ¶"><a href="#Lua-æµç¨‹æ§åˆ¶" class="headerlink" title="Lua æµç¨‹æ§åˆ¶"></a><strong>Lua æµç¨‹æ§åˆ¶</strong></h2><ul><li>luaæä¾›äº†ä¸€ç»„ä¼ ç»Ÿçš„æµç¨‹æ§åˆ¶ï¼Œif-else</li><li>ifè¯­å¥å…ˆæµ‹è¯•æ¡ä»¶ï¼Œç„¶åæ ¹æ®ç»“æœæ‰§è¡Œthenéƒ¨åˆ†æˆ–elseéƒ¨åˆ†ï¼Œå…¶ä¸­elseéƒ¨åˆ†æ˜¯å¯é€‰çš„ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = 0</span><br><span class="line">if a &gt; 0 then</span><br><span class="line">    print(&apos;a &gt; 0&apos;)</span><br><span class="line">elseif a &lt; 0 then</span><br><span class="line">    print(&apos;a&lt; 0&apos;)</span><br><span class="line">else</span><br><span class="line">    print(&apos;a = 0&apos;)</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="Lua-å¾ªç¯"><a href="#Lua-å¾ªç¯" class="headerlink" title="Lua å¾ªç¯"></a><strong>Lua å¾ªç¯</strong></h2><ul><li>Lua è¯­è¨€æä¾›äº†ä»¥ä¸‹å‡ ç§å¾ªç¯:</li></ul><ol><li>while</li><li>for</li><li>repeatâ€¦until</li></ol><ul><li>åŒæ—¶Lua æ”¯æŒ breakè¯­å¥</li></ul><h3 id="while"><a href="#while" class="headerlink" title="while"></a>while</h3><ul><li>ä¸å…¶ä»–è¯­è¨€ä¸€æ ·ï¼ŒLuaä¸­çš„whileå¾ªç¯å…ˆæµ‹è¯•æ¡ä»¶ï¼Œå¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œå°±æ‰§è¡Œå¾ªç¯ä½“ï¼Œå¦åˆ™ç»“æŸå¾ªç¯ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = 0</span><br><span class="line">while a &lt; 10 do</span><br><span class="line">    print(a)</span><br><span class="line">    a = a + 1</span><br><span class="line">end</span><br></pre></td></tr></table></figure></li></ul><h3 id="repeat"><a href="#repeat" class="headerlink" title="repeat"></a>repeat</h3><ul><li>Luaä¸­repeat-untilè¯­å¥ä¼šé‡å¤æ‰§è¡Œå¾ªç¯ä½“è‡³æ¡ä»¶ä¸ºçœŸæ—¶ç»“æŸï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = 0</span><br><span class="line">repeat</span><br><span class="line">    print(a)</span><br><span class="line">    a = a + 1</span><br><span class="line">until a &gt; 10</span><br></pre></td></tr></table></figure></li></ul><h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><ul><li>Luaçš„forå¾ªç¯æœ‰ä¸¤ç§å½¢å¼ï¼š</li></ul><ol><li>æ•°å­—å‹for</li><li>æ³›å‹for</li></ol><h4 id="æ•°å­—å‹ï¼š"><a href="#æ•°å­—å‹ï¼š" class="headerlink" title="æ•°å­—å‹ï¼š"></a>æ•°å­—å‹ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for i = 1, 10, 2 do</span><br><span class="line">    print(i)</span><br><span class="line">end</span><br></pre></td></tr></table></figure><blockquote><p>å«ä¹‰ä¸ºï¼Œiä»1å˜åŒ–åˆ°10ï¼Œæ¯æ¬¡å˜åŒ–ä»¥2ä½œä¸ºæ­¥é•¿é€’å¢å¹¶æ‰§è¡Œå¾ªç¯ä½“ã€‚ å…¶ä¸­æ­¥é•¿æ˜¯å¯é€‰çš„ï¼Œè‹¥ä¸æŒ‡å®šï¼Œåˆ™æ­¥é•¿é»˜è®¤ä¸º1  </p></blockquote><h4 id="æ³›å‹ï¼š"><a href="#æ³›å‹ï¼š" class="headerlink" title="æ³›å‹ï¼š"></a>æ³›å‹ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">days = &#123;&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;&#125;</span><br><span class="line">for i,v in ipairs(days) do </span><br><span class="line">    print(i, v) </span><br><span class="line">end</span><br></pre></td></tr></table></figure><blockquote><p>æ³›å‹forå¾ªç¯é€šè¿‡ä¸€ä¸ªè¿­ä»£å™¨å‡½æ•°æ¥éå†æ‰€æœ‰çš„å€¼ï¼Œåœ¨Luaä¸­ï¼Œæä¾›äº†ipairsè¿™ä¸ªç”¨äºä¾¿åˆ©æ•°ç»„çš„è¿­ä»£å™¨å‡½æ•°ã€‚æ¯æ¬¡å¾ªç¯ï¼Œiä¼šè¢«èµ‹äºˆä¸€ä¸ªç´¢å¼•å€¼ï¼Œvä¼šè¢«èµ‹äºˆä¸€ä¸ªå¯¹åº”è¯¥ç´¢å¼•å€¼çš„æ•°ç»„å…ƒç´ å€¼ã€‚<br>æ³›å‹forå¾ªç¯çš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„è¿­ä»£å™¨æ¥éå†æ‰€æœ‰ä¸œè¥¿ã€‚å¦‚ï¼š<br>è¿­ä»£æ–‡ä»¶ä¸­çš„æ¯è¡Œï¼ˆio.linesï¼‰ã€è¿­ä»£tableå…ƒç´ ï¼ˆpairsï¼‰ã€è¿­ä»£æ•°ç»„å…ƒç´ ï¼ˆipairsï¼‰ã€è¿­ä»£å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼ˆstring.gmatchï¼‰ç­‰ã€‚å½“ç„¶ï¼Œè¿˜å¯ä»¥è‡ªå·±ç¼–å†™è¿­ä»£å™¨ã€‚  </p></blockquote><h3 id="break"><a href="#break" class="headerlink" title="break"></a>break</h3><ul><li>breakè¯­å¥ç”¨äºç»“æŸä¸€ä¸ªå¾ªç¯ï¼Œå®ƒåªä¼šè·³å‡ºåŒ…å«å®ƒçš„å†…éƒ¨å¾ªç¯ï¼Œè€Œä¸ä¼šæ”¹å˜å¤–éƒ¨å¾ªç¯ã€‚<br>ä¾‹ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = 0</span><br><span class="line">while a &lt; 10 do</span><br><span class="line">    a = a + 1</span><br><span class="line">    if a &gt; 5 then</span><br><span class="line">        break</span><br><span class="line">    end</span><br><span class="line"></span><br><span class="line">    print(a)</span><br><span class="line">end</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="function"><a href="#function" class="headerlink" title="function"></a><strong>function</strong></h2><ul><li>åœ¨Luaä¸­ï¼Œå‡½æ•°ä½œä¸ºâ€œä¸€ç­‰å¯¹è±¡â€ã€‚è¿™è¡¨ç¤ºå‡½æ•°å¯ä»¥å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œå¯ä»¥é€šè¿‡å‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œè¿˜å¯ä»¥ä½œä¸ºå…¶ä»–å‡½æ•°çš„è¿”å›å€¼ã€‚è¿™ç§ç‰¹æ€§ä½¿è¯­è¨€å…·æœ‰æå¤§çš„çµæ´»æ€§ã€‚</li><li>Luaå¯¹å‡½æ•°å¼ç¼–ç¨‹ä¹Ÿæä¾›äº†è‰¯å¥½çš„æ”¯æŒã€‚</li><li>Luaæ—¢å¯ä»¥è°ƒç”¨è‡ªèº«çš„Luaç¼–å†™çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨cç¼–å†™çš„å‡½æ•°ã€‚</li><li>å‡½æ•°çš„å®šä¹‰å¦‚ä¸‹ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function SumTowNum(num1 , num2)</span><br><span class="line">    return num1 + num2</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">print(SumTowNum(10, 11))</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>è¾“å‡ºï¼š<br><code>21</code></p></blockquote><ul><li>Luaå‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªç»“æœå€¼ï¼Œæ¯”å¦‚ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function maximum (a)</span><br><span class="line">    local mi = 1             -- æœ€å¤§å€¼ç´¢å¼•</span><br><span class="line">    local m = a[mi]          -- æœ€å¤§å€¼</span><br><span class="line">    for i,val in ipairs(a) do</span><br><span class="line">       if val &gt; m then</span><br><span class="line">           mi = i</span><br><span class="line">           m = val</span><br><span class="line">       end</span><br><span class="line">    end</span><br><span class="line">    return m, mi</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">print(maximum(&#123;8,10,23,12,5&#125;))</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>è¾“å‡º:<br><code>23  3</code></p></blockquote><ul><li>Lua å‡½æ•°å¯ä»¥æ¥å—å¯å˜æ•°ç›®çš„å‚æ•°ï¼Œå’Œ C è¯­è¨€ç±»ä¼¼ï¼Œåœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨ä¸‰ç‚¹ <strong>â€¦</strong>è¡¨ç¤ºå‡½æ•°æœ‰å¯å˜çš„å‚æ•°ã€‚</li></ul><hr><h2 id="tableè¡¨"><a href="#tableè¡¨" class="headerlink" title="tableè¡¨"></a><strong>tableè¡¨</strong></h2><ul><li>Lua table å®ç°äº†å…³è”æ•°ç»„ï¼Œä½ å¯ä»¥ç”¨ä»»æ„ç±»å‹çš„å€¼æ¥ä½œæ•°ç»„çš„ç´¢å¼•ï¼Œä½†è¿™ä¸ªå€¼ä¸èƒ½æ˜¯ nilã€‚</li><li><p>Lua table æ˜¯ä¸å›ºå®šå¤§å°çš„ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚</p><blockquote><p>tableæ˜¯Luaä¸­ä¸»è¦çš„ï¼ˆäº‹å®ä¸Šä¹Ÿæ˜¯ä»…æœ‰çš„ï¼‰æ•°æ®ç»“æ„æœºåˆ¶ï¼Œå…·æœ‰å¼ºå¤§çš„åŠŸèƒ½ï¼ŒåŸºäºtableï¼Œå¯ä»¥ä»¥ä¸€ç§ç®€å•ã€ç»Ÿä¸€å’Œé«˜æ•ˆçš„æ–¹å¼æ¥è¡¨ç¤ºæ™®é€šæ•°ç»„ã€ç¬¦å·è¡¨ã€é›†åˆã€è®°å½•ã€é˜Ÿåˆ—åŠå…¶ä»–æ•°æ®ç»“æ„ã€‚åŒæ—¶Luaä¹Ÿæ˜¯é€šè¿‡tableæ¥è¡¨ç¤ºæ¨¡å—ã€åŒ…å’Œå¯¹è±¡çš„  </p></blockquote></li><li><p>å¯ä»¥å°†tableæƒ³è±¡æˆä¸€ç§åŠ¨æ€åˆ†é…çš„å¯¹è±¡ï¼Œç¨‹åºä»…æŒæœ‰ä¸€ä¸ªå¯¹å®ƒçš„å¼•ç”¨ï¼ˆæˆ–æŒ‡é’ˆï¼‰ã€‚</p></li><li><p>tableçš„åˆ›å»ºæ˜¯é€šè¿‡æ„é€ è¡¨è¾¾å¼å®Œæˆçš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">--åˆ›å»ºtable</span><br><span class="line">a = &#123;&#125;</span><br><span class="line">b = &apos;x&apos;</span><br><span class="line">a.b = 10 -- key = &apos;x&apos;. value = 10</span><br></pre></td></tr></table></figure></li><li><p>tabelæ°¸è¿œæ˜¯åŒ¿åçš„ï¼Œä¸€ä¸ªæŒæœ‰tableçš„å˜é‡å’Œtableè‡ªèº«ä¹‹é—´æ²¡æœ‰å›ºå®šçš„å…³è”æ€§ã€‚</p></li></ul><hr>]]></content>
      
      <categories>
          
          <category> Lua </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Luaç®€ä»‹</title>
      <link href="/2016/07/03/Lua%E7%AE%80%E4%BB%8B/"/>
      <url>/2016/07/03/Lua%E7%AE%80%E4%BB%8B/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><p>Luaæ˜¯å¯æ‰©å±•çš„è½»é‡çº§ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæ˜¯ç”¨Cè¯­è¨€ç¼–å†™çš„ï¼Œå¹¶äº1993å¹´å¼€å§‹ä½œä¸ºä¸€ä¸ªå†…éƒ¨é¡¹ç›®å¼€å§‹è¯ç”Ÿã€‚Luaä»£ç ç®€æ´ä¼˜ç¾ï¼Œå‡ ä¹åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿå’Œå¹³å°ä¸Šéƒ½å¯ä»¥ç¼–è¯‘ï¼Œè¿è¡Œã€‚ä¸€ä¸ªå®Œæ•´çš„Luaè§£é‡Šå™¨ä¸è¿‡200kï¼Œåœ¨ç›®å‰æ‰€æœ‰è„šæœ¬å¼•æ“ä¸­ï¼ŒLuaçš„é€Ÿåº¦æ˜¯æœ€å¿«çš„ã€‚è¿™ä¸€åˆ‡éƒ½å†³å®šäº†Luaæ˜¯ä½œä¸ºåµŒå…¥å¼è„šæœ¬çš„æœ€ä½³é€‰æ‹©ã€‚<br>å®ƒä»ä¸€å¼€å§‹å°±è®¾è®¡ä¸ºå¯ä»¥ä¸ç”¨Cè¯­è¨€ç¼–å†™ç­‰å¸¸è§„è¯­è¨€çš„ä»£ç é›†æˆè½¯ä»¶ã€‚è¿™ç§æ•´åˆå¸¦æ¥äº†å¾ˆå¤šå¥½å¤„ã€‚å®ƒä¸ä¼šå°è¯•åšCå·²ç»å¯ä»¥åšä¸œè¥¿ï¼Œä½†æ—¨åœ¨æä¾›é‚£äº›Cæ˜¯ä¸å¥½çš„ï¼šä»æµ‹è¯•å’Œè°ƒè¯•çš„ç¡¬ä»¶ï¼ŒåŠ¨æ€ç»“æ„ï¼Œæ²¡æœ‰å†—ä½™ï¼Œæ¾è—•åˆã€‚å¯¹äºè¿™ä¸€ç‚¹ï¼Œluaæœ‰ä¸€ä¸ªå®‰å…¨çš„ç¯å¢ƒï¼Œè‡ªåŠ¨å†…å­˜ç®¡ç†ï¼Œä»¥åŠå¤„ç†å­—ç¬¦ä¸²å’Œå…¶ä»–ç±»å‹çš„åŠ¨æ€å°ºå¯¸æ•°æ®è‰¯å¥½çš„è®¾è®¡ã€‚</p><hr><h2 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a><strong>ç‰¹ç‚¹</strong></h2><p>Luaæä¾›äº†ä¸€ç»„ç‹¬ç‰¹çš„åŠŸèƒ½ï¼Œä½¿å¾—å®ƒä¸å…¶ä»–è¯­è¨€ä¸åŒã€‚è¿™äº›åŒ…æ‹¬ï¼š</p><ul><li>æ‰©å±•</li><li>ç®€å•</li><li>é«˜æ•ˆ</li><li>ä¾¿æº</li><li>å…è´¹å’Œå¼€æº</li></ul><blockquote><p>ç¤ºä¾‹ä»£ç :<br><code>print(&quot;Hello World!&quot;)</code></p></blockquote><hr><h2 id="Luaå¦‚ä½•å®ç°"><a href="#Luaå¦‚ä½•å®ç°" class="headerlink" title="Luaå¦‚ä½•å®ç°"></a><strong>Luaå¦‚ä½•å®ç°</strong></h2><p>Luaä¸­åŒ…æ‹¬çš„éƒ¨ä»¶ä¸ºLuaè§£é‡Šéƒ¨åˆ†å’Œè¿è¡Œè½¯ä»¶ç³»ç»Ÿã€‚è¯¥è½¯ä»¶ç³»ç»ŸåŠŸèƒ½æ˜¯ä¸€ä¸ªå®é™…çš„è®¡ç®—æœºåº”ç”¨ç¨‹åºï¼Œå®ƒå¯ä»¥è§£é‡Šå†™åœ¨Luaçš„ç¼–ç¨‹è¯­è¨€ç¨‹åºã€‚ Luaè§£é‡Šæ˜¯ç”¨ANSI Cç¼–å†™ï¼Œå› æ­¤å®ƒæ˜¯éå¸¸ä¾¿æºï¼Œå¯ä»¥ä»é«˜ç«¯ç½‘ç»œæœåŠ¡å™¨ï¼Œä»¥åŠå°å‹è®¾å¤‡è®¾å¤‡ä¸Šè¿è¡Œã€‚<br>Luaè¯­è¨€è§£é‡Šå™¨éå¸¸æˆç†Ÿï¼Œä½“ç§¯å°ï¼Œé€Ÿåº¦å¿«ã€‚å®ƒå·²ç»ä»å…¶ä»–ç¼–ç¨‹è¯­è¨€å’Œä¸Šå±‚è½¯ä»¶çš„æ ‡å‡†æ¼”å˜è€Œæ¥çš„ã€‚ä½œä¸ºå°å‹ç¨‹åºå¯ä»¥åœ¨ä½å†…å­˜å°çš„è®¾å¤‡ä¸Šè¿è¡Œã€‚</p><hr><h2 id="Luaç›¸å…³ç”¨é€”"><a href="#Luaç›¸å…³ç”¨é€”" class="headerlink" title="Luaç›¸å…³ç”¨é€”"></a><strong>Luaç›¸å…³ç”¨é€”</strong></h2><ul><li>æ¸¸æˆç¼–ç¨‹</li><li>è„šæœ¬ä¸­çš„ç‹¬ç«‹åº”ç”¨ç¨‹åº</li><li>ç½‘é¡µè„šæœ¬</li><li>æ‰©å±•å’Œæ’ä»¶åƒMySQLä»£ç†å’ŒMySQLæ•°æ®åº“çš„å·¥ä½œå°</li><li>å®‰å…¨ç³»ç»Ÿï¼Œå¦‚å…¥ä¾µæ£€æµ‹ç³»ç»Ÿ</li></ul>]]></content>
      
      <categories>
          
          <category> Lua </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Pythonè£…é¥°å™¨</title>
      <link href="/2016/06/25/python%E8%A3%85%E9%A5%B0%E5%99%A8/"/>
      <url>/2016/06/25/python%E8%A3%85%E9%A5%B0%E5%99%A8/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="è£…é¥°å™¨ä»‹ç»"><a href="#è£…é¥°å™¨ä»‹ç»" class="headerlink" title="è£…é¥°å™¨ä»‹ç»"></a><strong>è£…é¥°å™¨ä»‹ç»</strong></h2><blockquote><p>Pythonè£…é¥°å™¨æ˜¯ç¨‹åºå¼€å‘ä¸­ç»å¸¸ä½¿ç”¨åˆ°çš„åŠŸèƒ½ï¼Œç†Ÿç»ƒæŒæ¡è£…é¥°å™¨ä¼šè®©ä½ çš„ç¼–ç¨‹æ€è·¯æ›´åŠ å¹¿é˜”  </p></blockquote><p>è¦ç†è§£è£…é¥°å™¨ï¼Œé¦–å…ˆè¦å…ˆç†è§£ï¼š</p><ol><li>åœ¨ Python ä¸­â€œå‡½æ•°æ˜¯ä¸€ç­‰å¯¹è±¡â€ ã€‚å³å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å˜é‡ï¼Œå¯ä»¥å’Œå…¶ä½™å˜é‡ä¸€æ ·ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚Python ä¸­çš„æ•´æ•°ã€å­—ç¬¦ä¸²å’Œå­—å…¸ç­‰éƒ½æ˜¯ä¸€ç­‰å¯¹è±¡ã€‚</li><li>å‡½æ•°è£…é¥°å™¨åœ¨å¯¼å…¥æ¨¡å—æ—¶ç«‹å³æ‰§è¡Œï¼Œè€Œè¢«è£…é¥°çš„å‡½æ•°åªåœ¨æ˜ç¡®è°ƒç”¨æ—¶è¿è¡Œã€‚</li></ol><hr><h2 id="è£…é¥°å™¨å®ç°"><a href="#è£…é¥°å™¨å®ç°" class="headerlink" title="è£…é¥°å™¨å®ç°"></a><strong>è£…é¥°å™¨å®ç°</strong></h2><p>è£…é¥°å™¨æœ¬è´¨ä¸Šæ˜¯pythonå‡½æ•°ï¼Œå®ƒå¯ä»¥ä½¿å…¶ä»–å‡½æ•°åœ¨ä¸éœ€è¦åšä»£ç å˜åŠ¨çš„æƒ…å†µä¸‹å¢åŠ æ–°çš„åŠŸèƒ½ï¼Œè£…é¥°å™¨è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ã€‚</p><blockquote><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š<br>å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªå‡½æ•°sayHiï¼Œç”¨æ¥è¾“å‡ºä¸€å¥è¯</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def sayHi():</span><br><span class="line">    print(&apos;Hello, World&apos;)</span><br><span class="line">s = sayHi</span><br><span class="line">s()</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š<code>Hello, World</code>  </p></blockquote><p>æˆ‘æƒ³å¸Œæœ›åœ¨ä¸ä¿®æ”¹sayHiå‡½æ•°çš„æƒ…å†µä¸‹åœ¨å…¶ä¹‹å‰å†è¾“å‡ºä¸€å¥è¯,è¿™ç§åœ¨ä»£ç è¿è¡ŒæœŸé—´åŠ¨æ€å¢åŠ åŠŸèƒ½çš„æ–¹å¼ï¼Œç§°ä¹‹ä¸ºâ€œè£…é¥°å™¨â€ã€‚<br>æœ¬è´¨ä¸Šï¼Œè£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªè¿”å›å‡½æ•°çš„<a href="http://gyunch.org/2016/10/27/python%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/">é«˜é˜¶å‡½æ•°</a></p><blockquote><p>æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™ï¼š  </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def sayName(func):</span><br><span class="line">    def inner():</span><br><span class="line">        print(&quot;I&apos;m Yu&quot;)</span><br><span class="line">        return func</span><br><span class="line">    return inner()</span><br><span class="line"></span><br><span class="line">def sayHi():</span><br><span class="line">    print(&apos;Hello, World&apos;)</span><br><span class="line">s = sayName(sayHi)</span><br><span class="line">s()</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I&apos;m Yu</span><br><span class="line">Hello, World</span><br></pre></td></tr></table></figure></p></blockquote><p>ä½†ä»£ç ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼Œæˆ‘ä»¬æ¯æ¬¡ç»™sayHiå¢åŠ åŠŸèƒ½éƒ½éœ€è¦ç”¨åˆ°ç±»ä¼¼<code>s = sayName(sayHi)</code>è¿™å¥è¯ã€‚<br>pythonä¸ºäº†ç®€åŒ–è¿™ç§æƒ…å†µï¼Œæä¾›äº†ä¸€ä¸ªè¯­æ³•ç³–â€œ@â€ã€‚</p><blockquote><p>ç®€åŒ–ä¸Šè¾¹çš„ä»£ç :  </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def sayName(func):</span><br><span class="line">    def inner():</span><br><span class="line">        print(&quot;I&apos;m Yu&quot;)</span><br><span class="line">        return func()</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@sayName</span><br><span class="line">def sayHi():</span><br><span class="line">    print(&apos;Hello, World&apos;)</span><br><span class="line"></span><br><span class="line">sayHi()</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I&apos;m Yu</span><br><span class="line">Hello, World</span><br></pre></td></tr></table></figure></p></blockquote><hr><h2 id="è£…é¥°å™¨åŸç†"><a href="#è£…é¥°å™¨åŸç†" class="headerlink" title="è£…é¥°å™¨åŸç†"></a><strong>è£…é¥°å™¨åŸç†</strong></h2><p>ä»¥ä¸Šä»£ç ä¸­ï¼Œé¦–å…ˆï¼Œåœ¨è£…é¥°å™¨å‡½æ•°sayNameä¸­ï¼ŒsayNameéœ€è¦æ¥å—ä¸€ä¸ªå‚æ•°funcï¼Œåœ¨å…¶å†…éƒ¨åˆå®šä¹‰äº†ä¸€ä¸ªinnerå‡½æ•°ï¼Œåœ¨innerå‡½æ•°ä¸­å¢åŠ ä¸€å¥è¾“å‡ºï¼Œå¹¶è¿”å›funcå¯¹è±¡ï¼Œç„¶åsayNameå‡½æ•°è¿”å›å†…éƒ¨å‡½æ•°innerï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªé—­åŒ…å‡½æ•°ã€‚<br>æ¥ä¸‹æ¥åœ¨sayHiä¸Šè¾¹å¢åŠ ä¸€ä¸ª@sayNameï¼Œå…¶æ„ä¹‰å°±æ˜¯åœ¨pythonè§£é‡Šå™¨ä¹‹è¡Œåˆ°æ­¤å¤„æ—¶ï¼Œä¼šè°ƒç”¨è£…é¥°å™¨å‡½æ•°ï¼ˆsayNameï¼‰ï¼Œå¹¶æŠŠè¢«è£…é¥°å¾—å‡½æ•°ï¼ˆsayHiï¼‰ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚æ­¤æ—¶çš„sayHiå·²ç»ä¸æ˜¯æœªåŠ è£…é¥°æ—¶çš„å‡½æ•°äº†ï¼Œè€Œæ˜¯æŒ‡å‘sayName.innerå‡½æ•°åœ°å€ã€‚åœ¨æ¥ä¸‹æ¥è°ƒç”¨sayHi()æ—¶ï¼Œå…¶å®å°±æ˜¯è°ƒç”¨sayName.innerã€‚</p><hr><h2 id="æœ‰å‚å‡½æ•°è£…é¥°"><a href="#æœ‰å‚å‡½æ•°è£…é¥°" class="headerlink" title="æœ‰å‚å‡½æ•°è£…é¥°"></a><strong>æœ‰å‚å‡½æ•°è£…é¥°</strong></h2><p>ä¹‹å‰çš„ä¾‹å­æ˜¯å¯¹æ— å‚å‡½æ•°çš„è£…é¥°ï¼Œå¦‚æœè£…é¥°å¸¦å‚æ•°çš„å‡½æ•°è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def sayName(func):</span><br><span class="line">    def inner(name):</span><br><span class="line">        print(&quot;I&apos;m Yu&quot;)</span><br><span class="line">        return func(name)</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@sayName</span><br><span class="line">def sayHi(name):</span><br><span class="line">    print(&apos;Hi,&apos; + name)</span><br><span class="line"></span><br><span class="line">sayHi(&apos;siri&apos;)</span><br></pre></td></tr></table></figure></p><blockquote><p>è¾“å‡ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I&apos;m Yu</span><br><span class="line">Hi,siri</span><br></pre></td></tr></table></figure></p></blockquote><hr><h2 id="ä¸¤ä¸ªè£…é¥°å™¨è£…é¥°å‡½æ•°"><a href="#ä¸¤ä¸ªè£…é¥°å™¨è£…é¥°å‡½æ•°" class="headerlink" title="ä¸¤ä¸ªè£…é¥°å™¨è£…é¥°å‡½æ•°"></a><strong>ä¸¤ä¸ªè£…é¥°å™¨è£…é¥°å‡½æ•°</strong></h2><p>è¿™é‡Œæµ‹è¯•ä¸¤ä¸ªè£…é¥°å™¨è£…é¥°ä¸€ä¸ªå‡½æ•°çš„ç»“æœï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">def sayName(func):</span><br><span class="line">    print(&apos;name&apos;)</span><br><span class="line">    def inner():</span><br><span class="line">        print(&quot;I&apos;m Yu&quot;)</span><br><span class="line">        return func()</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">def sayAge(func):</span><br><span class="line">    print(&apos;age&apos;)</span><br><span class="line">    def inner():</span><br><span class="line">        print(&quot;i&apos;m 30&quot;)</span><br><span class="line">        return  func()</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@sayName</span><br><span class="line">@sayAge</span><br><span class="line">def sayHi():</span><br><span class="line">    print(&apos;Hello, World&apos;)</span><br><span class="line"></span><br><span class="line">sayHi()</span><br></pre></td></tr></table></figure></p><blockquote><p>è¾“å‡º:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age</span><br><span class="line">name</span><br><span class="line">I&apos;m Yu</span><br><span class="line">i&apos;m 30</span><br><span class="line">Hello, World</span><br></pre></td></tr></table></figure></p></blockquote><p>æ¥ä¸‹æ¥åˆ†æè¾“å‡ºè¿™ä¸ªç»“æœçš„åŸå› ï¼š<br>é¦–å…ˆï¼Œpythonè§£é‡Šå™¨æ‰§è¡Œåˆ°ç¬¬ä¸€ä¸ªè£…é¥°å™¨@sayNameï¼Œåœ¨æ¥ä¸‹æ¥å‘ç°è£…é¥°å™¨ä¸‹è¾¹ä¸æ˜¯ä¸€ä¸ªå‡½æ•°è€Œæ˜¯å¦ä¸€ä¸ªè£…é¥°å™¨ï¼Œè§£é‡Šå™¨ä¼šæ‰§è¡Œç¬¬äºŒä¸ªçš„è£…é¥°å™¨@sayAgeï¼Œç„¶åæŠŠsayHiå‡½æ•°ä¼ å…¥è£…é¥°å™¨ï¼Œæ‰€ä»¥é¦–å…ˆè¾“å‡ºäº†â€œageâ€ï¼Œå½“@sayAgeè£…é¥°å®Œæˆï¼Œæ­¤æ—¶çš„sayHiå‡½æ•°åœ°å€æŒ‡å‘äº†sayAge.innerçš„åœ°å€ï¼Œè§£é‡Šå™¨ä¼šè¿”å›å»æ‰§è¡Œ@sayNameè£…é¥°å™¨æ¥è£…é¥°æ–°çš„sayHiï¼Œä»è€Œè¾“å‡ºäº†â€œnameâ€ï¼Œæ¥ç€å‡½æ•°å½“å‰æŒ‡å‘sayName.innerä¼šå…ˆè¾“å‡ºâ€œIâ€™m Yuâ€ï¼Œåœ¨è¿™é‡Œè¿”å›çš„func()å…¶å®å°±æ˜¯è¿”å›çš„sayAge.innerï¼Œæ‰€ä»¥åœ¨ä¸‹é¢è¾“å‡ºiâ€™m 30ï¼Œæœ€åè¾“å‡ºåŸæœ¬sayHiçš„â€œHello, Worldâ€</p><hr><h2 id="æœ‰å‚è£…é¥°å™¨"><a href="#æœ‰å‚è£…é¥°å™¨" class="headerlink" title="æœ‰å‚è£…é¥°å™¨"></a><strong>æœ‰å‚è£…é¥°å™¨</strong></h2><p>ä¸‹è¾¹æ˜¯è£…é¥°å™¨å¸¦å‚æ•°ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">def now(time):</span><br><span class="line">    def sayName(func):</span><br><span class="line">        def inner(name):</span><br><span class="line">            print(&apos;ç°åœ¨æ˜¯: %s&apos; % time)</span><br><span class="line">            print(&quot;I&apos;m Yu&quot;)</span><br><span class="line">            return func(name)</span><br><span class="line">        return inner</span><br><span class="line">    return sayName</span><br><span class="line"></span><br><span class="line">@now(&apos;2016/10/30&apos;)</span><br><span class="line">def sayHi(name):</span><br><span class="line">    print(&apos;Hello,&apos; + name)</span><br><span class="line"></span><br><span class="line">sayHi(&apos;siri&apos;)</span><br></pre></td></tr></table></figure></p><blockquote><p>è¾“å‡ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç°åœ¨æ˜¯: 2016/10/30</span><br><span class="line">I&apos;m Yu</span><br><span class="line">Hello,siri</span><br></pre></td></tr></table></figure></p></blockquote><hr><h3 id="ä»¥ä¸Šå°±æ˜¯pythonè£…é¥°å™¨çš„ç›¸å…³ä»‹ç»"><a href="#ä»¥ä¸Šå°±æ˜¯pythonè£…é¥°å™¨çš„ç›¸å…³ä»‹ç»" class="headerlink" title="ä»¥ä¸Šå°±æ˜¯pythonè£…é¥°å™¨çš„ç›¸å…³ä»‹ç»"></a><strong>ä»¥ä¸Šå°±æ˜¯pythonè£…é¥°å™¨çš„ç›¸å…³ä»‹ç»</strong></h3>]]></content>
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Pythonå‡½æ•°å¼ç¼–ç¨‹</title>
      <link href="/2016/06/17/python%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
      <url>/2016/06/17/python%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a><strong>å‡½æ•°å¼ç¼–ç¨‹</strong></h2><p>å‡½æ•°æ˜¯Pythonå†…å»ºæ”¯æŒçš„ä¸€ç§å°è£…ï¼Œæˆ‘ä»¬é€šè¿‡æŠŠå¤§æ®µä»£ç æ‹†æˆå‡½æ•°ï¼Œé€šè¿‡ä¸€å±‚ä¸€å±‚çš„å‡½æ•°è°ƒç”¨ï¼Œå°±å¯ä»¥æŠŠå¤æ‚ä»»åŠ¡åˆ†è§£æˆç®€å•çš„ä»»åŠ¡ï¼Œè¿™ç§åˆ†è§£å¯ä»¥ç§°ä¹‹ä¸ºé¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡ã€‚å‡½æ•°å°±æ˜¯é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡çš„åŸºæœ¬å•å…ƒã€‚</p><p>å‡½æ•°å¼ç¼–ç¨‹Functional Programmingï¼Œè™½ç„¶ä¹Ÿå¯ä»¥å½’ç»“åˆ°é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡ï¼Œä½†å…¶æ€æƒ³æ›´æ¥è¿‘æ•°å­¦è®¡ç®—ã€‚å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯ä¸€ç§æŠ½è±¡ç¨‹åº¦å¾ˆé«˜çš„ç¼–ç¨‹èŒƒå¼ã€‚<br>åœ¨è®¡ç®—æœºçš„å±‚æ¬¡ä¸Šï¼ŒCPUæ‰§è¡Œçš„æ˜¯åŠ å‡ä¹˜é™¤çš„æŒ‡ä»¤ä»£ç ï¼Œä»¥åŠå„ç§æ¡ä»¶åˆ¤æ–­å’Œè·³è½¬æŒ‡ä»¤ï¼Œæ‰€ä»¥ï¼Œæ±‡ç¼–è¯­è¨€æ˜¯æœ€è´´è¿‘è®¡ç®—æœºçš„è¯­è¨€ã€‚<br>è€Œè®¡ç®—åˆ™æŒ‡æ•°å­¦æ„ä¹‰ä¸Šçš„è®¡ç®—ï¼Œè¶Šæ˜¯æŠ½è±¡çš„è®¡ç®—ï¼Œç¦»è®¡ç®—æœºç¡¬ä»¶è¶Šè¿œã€‚<br>å¯¹åº”åˆ°ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ˜¯è¶Šä½çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—æœºï¼ŒæŠ½è±¡ç¨‹åº¦ä½ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œæ¯”å¦‚Cè¯­è¨€ï¼›è¶Šé«˜çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—ï¼ŒæŠ½è±¡ç¨‹åº¦é«˜ï¼Œæ‰§è¡Œæ•ˆç‡ä½ï¼Œæ¯”å¦‚Lispè¯­è¨€ã€‚<br><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1freb7yyae5j30jm07pwf0.jpg" alt=" "><br>å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯ä¸€ç§æŠ½è±¡ç¨‹åº¦å¾ˆé«˜çš„ç¼–ç¨‹èŒƒå¼ï¼Œçº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„å‡½æ•°æ²¡æœ‰å˜é‡ï¼Œå› æ­¤ï¼Œä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œåªè¦è¾“å…¥æ˜¯ç¡®å®šçš„ï¼Œè¾“å‡ºå°±æ˜¯ç¡®å®šçš„ï¼Œè¿™ç§çº¯å‡½æ•°æˆ‘ä»¬ç§°ä¹‹ä¸ºæ²¡æœ‰å‰¯ä½œç”¨ã€‚è€Œå…è®¸ä½¿ç”¨å˜é‡çš„ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œç”±äºå‡½æ•°å†…éƒ¨çš„å˜é‡çŠ¶æ€ä¸ç¡®å®šï¼ŒåŒæ ·çš„è¾“å…¥ï¼Œå¯èƒ½å¾—åˆ°ä¸åŒçš„è¾“å‡ºï¼Œå› æ­¤ï¼Œè¿™ç§å‡½æ•°æ˜¯æœ‰å‰¯ä½œç”¨çš„ã€‚<br>å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œå…è®¸æŠŠå‡½æ•°æœ¬èº«ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¿˜å…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°ï¼<br>Pythonå¯¹å‡½æ•°å¼ç¼–ç¨‹æä¾›éƒ¨åˆ†æ”¯æŒã€‚ç”±äºPythonå…è®¸ä½¿ç”¨å˜é‡ï¼Œå› æ­¤ï¼ŒPythonä¸æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€</p><hr><h2 id="å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜ç‚¹"><a href="#å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜ç‚¹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜ç‚¹"></a><strong>å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜ç‚¹</strong></h2><ol><li><strong>é€»è¾‘å¯è¯</strong> <blockquote><p>è¿™æ˜¯ä¸€ä¸ªå­¦æœ¯ä¸Šçš„ä¼˜ç‚¹ï¼šæ²¡æœ‰â€è¾¹ç•Œæ•ˆåº”â€ä½¿å¾—æ›´å®¹æ˜“ä»é€»è¾‘ä¸Šè¯æ˜ç¨‹åºæ˜¯æ­£ç¡®çš„ã€‚  </p></blockquote></li></ol><ul><li>è¾¹ç•Œæ•ˆåº”æ˜¯æŒ‡åœ¨è¿›è¡Œç¨‹åºè®¾è®¡æ—¶ï¼Œæˆ‘ä»¬çš„ç¼–ç¨‹æ€æƒ³ã€ç®—æ³•ä»¥åŠåˆ†ææµ‹è¯•çš„æ•°æ®æœ‰å¯èƒ½ä¼šæ¥è¿‘æˆ‘ä»¬æ‰€æ²¡æœ‰æ³¨æ„çš„è¾¹ç•Œã€‚æ‰€æœ‰çš„æ“ä½œè®¾è®¡éƒ½ä¼šæœ‰ä¸€ä¸ªè¾¹ç•Œï¼Œä¾‹å¦‚æ•´å½¢æ•°æ®çš„å†…å­˜ï¼Œå¾ˆå¤šæƒ…å†µä¸‹åœ¨è¿›è¡Œç¨‹åºè®¾è®¡æ—¶ï¼Œå¾€å¾€ä¼šè¢«æˆ‘ä»¬æ‰€å¿½ç•¥</li></ul><ol start="2"><li><p><strong>æ¨¡å—åŒ–</strong> </p><blockquote><p>å‡½æ•°å¼ç¼–ç¨‹æ¨å´‡ç®€å•åŸåˆ™ï¼Œä¸€ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹æƒ…ï¼Œå°†å¤§çš„åŠŸèƒ½æ‹†åˆ†æˆå°½å¯èƒ½å°çš„æ¨¡å—ã€‚å°çš„å‡½æ•°æ›´æ˜“äºé˜…è¯»å’Œæ£€æŸ¥é”™è¯¯ã€‚  </p></blockquote></li><li><p><strong>ç»„ä»¶åŒ–</strong> </p><blockquote><p>å°çš„å‡½æ•°æ›´å®¹æ˜“åŠ ä»¥ç»„åˆå½¢æˆæ–°çš„åŠŸèƒ½ã€‚  </p></blockquote></li><li><p><strong>æ˜“äºè°ƒè¯•</strong> </p><blockquote><p>ç»†åŒ–çš„ã€å®šä¹‰æ¸…æ™°çš„å‡½æ•°ä½¿å¾—è°ƒè¯•æ›´åŠ ç®€å•ã€‚å½“ç¨‹åºä¸æ­£å¸¸è¿è¡Œæ—¶ï¼Œæ¯ä¸€ä¸ªå‡½æ•°éƒ½æ˜¯æ£€æŸ¥æ•°æ®æ˜¯å¦æ­£ç¡®çš„æ¥å£ï¼Œèƒ½æ›´å¿«é€Ÿåœ°æ’é™¤æ²¡æœ‰é—®é¢˜çš„ä»£ç ï¼Œå®šä½åˆ°å‡ºç°é—®é¢˜çš„åœ°æ–¹ã€‚  </p></blockquote></li><li><p><strong>æ˜“äºæµ‹è¯•</strong> </p><blockquote><p>ä¸ä¾èµ–äºç³»ç»ŸçŠ¶æ€çš„å‡½æ•°æ— é¡»åœ¨æµ‹è¯•å‰æ„é€ æµ‹è¯•æ¡©ï¼Œä½¿å¾—ç¼–å†™å•å…ƒæµ‹è¯•æ›´åŠ å®¹æ˜“ã€‚  </p></blockquote></li><li><p><strong>æ›´é«˜çš„ç”Ÿäº§ç‡</strong> </p><blockquote><p>å‡½æ•°å¼ç¼–ç¨‹äº§ç”Ÿçš„ä»£ç æ¯”å…¶ä»–æŠ€æœ¯æ›´å°‘ï¼ˆå¾€å¾€æ˜¯å…¶ä»–æŠ€æœ¯çš„ä¸€åŠå·¦å³ï¼‰ï¼Œå¹¶ä¸”æ›´å®¹æ˜“é˜…è¯»å’Œç»´æŠ¤ã€‚  </p></blockquote></li></ol><hr><h2 id="å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹å¾"><a href="#å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹å¾" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹å¾"></a><strong>å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹å¾</strong></h2><p>åœ¨æ”¯æŒå‡½æ•°å¼ç¼–ç¨‹çš„è¯­è¨€ä¸­ï¼Œå¤§é‡ä½¿ç”¨å¦‚ä¸‹ç‰¹å¾çš„ä»£ç å³å¯è¢«è®¤ä¸ºæ˜¯å‡½æ•°å¼ï¼š</p><ol><li><p><strong>å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘</strong></p><blockquote><p>å‡½æ•°èƒ½ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œæˆ–è€…æ˜¯ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚  </p></blockquote></li><li><p><strong>åŒ¿åå‡½æ•°(lambda)</strong></p><blockquote><p>lambdaæä¾›äº†å¿«é€Ÿç¼–å†™ç®€å•å‡½æ•°çš„èƒ½åŠ›  </p></blockquote></li><li><p><strong>é—­åŒ…</strong></p><blockquote><p>é—­åŒ…å¼•ç”¨äº†å¤–å±‚å‡½æ•°çš„å˜é‡ï¼Œç„¶åè¿”å›å†…å±‚å‡½æ•°  </p></blockquote></li><li><p><strong>å†…ç½®çš„ä¸å¯å˜æ•°æ®ç»“æ„</strong></p><blockquote><p>å¦‚pythonä¸­çš„å…ƒç»„  </p></blockquote></li><li><p><strong>å†…ç½®æ¨¡æ¿å‡½æ•°</strong><br>::è§ä¸‹æ–‡ä¸­çš„é«˜é˜¶å‡½æ•°::</p></li><li><p>é€’å½’</p></li></ol><hr><h2 id="åŒ¿åå‡½æ•°-lambda"><a href="#åŒ¿åå‡½æ•°-lambda" class="headerlink" title="åŒ¿åå‡½æ•°(lambda)"></a><strong>åŒ¿åå‡½æ•°(lambda)</strong></h2><p>å½“æˆ‘ä»¬åœ¨ä¼ å…¥å‡½æ•°æ—¶ï¼Œæœ‰äº›æ—¶å€™ï¼Œä¸éœ€è¦æ˜¾å¼åœ°å®šä¹‰å‡½æ•°ï¼Œç›´æ¥ä¼ å…¥åŒ¿åå‡½æ•°æ›´æ–¹ä¾¿ã€‚<br>ä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p = lambda x: x+x</span><br><span class="line">print(p(10)</span><br></pre></td></tr></table></figure></p><p>å…¶ç­‰ä»·äºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def test(x):</span><br><span class="line">    return x+x</span><br><span class="line">p = test(10)</span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure></p><ul><li>è¿™é‡Œæˆ‘å»ºè®®å°½é‡é¿å…ä½¿ç”¨lambdaã€‚lambdaåŠŸèƒ½ååˆ†æœ‰é™ï¼Œåªèƒ½æœ‰ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›å€¼å°±æ˜¯è¯¥è¡¨è¾¾å¼çš„ç»“æœã€‚æœ€ä¸»è¦æ˜¯è¯­å¥è¿‡äºå¤æ‚ï¼Œlambdaè¡¨è¾¾å¼ä¼šå¾ˆéš¾é˜…è¯»</li></ul><h2 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a><strong>é«˜é˜¶å‡½æ•°</strong></h2><ul><li>èƒ½æ¥æ”¶å‡½æ•°åšå‚æ•°çš„å‡½æ•°:</li><li>å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°</li><li>å‡½æ•°çš„å‚æ•°å¯ä»¥æ¥æ”¶å˜é‡</li><li><p>ä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°<br>å¦‚ï¼špythonå†…ç½®å‡½æ•°ï¼Œmap()å‡½æ•°ã€reduce()å‡½æ•°ã€filter()å‡½æ•°ç­‰</p><blockquote><p>Pythonçš„å‡½æ•°ä¸ä½†å¯ä»¥è¿”å›intã€strã€listã€dictç­‰æ•°æ®ç±»å‹ï¼Œè¿˜å¯ä»¥è¿”å›å‡½æ•°  </p></blockquote></li><li><p>ä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def test(x, y, z):</span><br><span class="line">    return z(x, y)</span><br><span class="line">print(test(2, 3, pow)) </span><br><span class="line">è¿™é‡Œxï¼Œyæ˜¯ä¸¤ä¸ªæ•°å€¼ï¼Œzæ˜¯ä¸€ä¸ªå‡½æ•°</span><br></pre></td></tr></table></figure></li></ul><h2 id="åå‡½æ•°"><a href="#åå‡½æ•°" class="headerlink" title="åå‡½æ•°"></a><strong>åå‡½æ•°</strong></h2><p>Pythonçš„functoolsæ¨¡å—æä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ï¼Œåå‡½æ•°æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œåå‡½æ•°æŠŠä¸€ä¸ªå‡½æ•°çš„æŸäº›å‚æ•°ç»™å›ºå®šä½ï¼ˆä¹Ÿå°±æ˜¯è®¾ç½®é»˜è®¤å€¼ï¼‰ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè°ƒç”¨è¿™ä¸ªæ–°å‡½æ•°ä¼šæ›´ç®€å•ã€‚<br>å¦‚int()å‡½æ•°ï¼Œå…¶æä¾›äº†baseå‚æ•°ï¼Œé»˜è®¤å€¼ä¸º10ã€‚å¦‚æœä¼ å…¥baseå‚æ•°ï¼Œå°±å¯ä»¥åšè¿›åˆ¶çš„è½¬æ¢<br><code>int(&#39;101010&#39;, base=2)</code><br>å¦‚æœç»å¸¸éœ€è¦åšäºŒè¿›åˆ¶è½¬æ¢æˆ‘ä»¬å°±å¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªint2()å‡½æ•°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">def int2(x, base=2):</span><br><span class="line">    return int(x, base)</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨functools.partialï¼Œå°±å¯ä»¥éå¸¸æ–¹ä¾¿çš„ç›´æ¥åˆ›å»ºä¸€ä¸ªint2()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from functools import partial</span><br><span class="line">int2 = partial(int, base=2)</span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Functional </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>C#</title>
      <link href="/2016/05/01/C#%E7%AE%80%E4%BB%8B/"/>
      <url>/2016/05/01/C#%E7%AE%80%E4%BB%8B/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><ul><li>C# æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„è¯­è¨€ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒC# è¿˜è¿›ä¸€æ­¥æ”¯æŒé¢å‘ç»„ä»¶çš„ç¼–ç¨‹ã€‚ å½“ä»£è½¯ä»¶è®¾è®¡è¶Šæ¥è¶Šä¾èµ–é‡‡ç”¨è‡ªæè¿°çš„ç‹¬ç«‹åŠŸèƒ½åŒ…å½¢å¼çš„è½¯ä»¶ç»„ä»¶ã€‚ æ­¤ç±»ç»„ä»¶çš„å…³é”®ç‰¹å¾åŒ…æ‹¬ï¼šä¸ºç¼–ç¨‹æ¨¡å‹æä¾›å±æ€§ã€æ–¹æ³•å’Œäº‹ä»¶ï¼›åŒ…å«æä¾›ç»„ä»¶å£°æ˜æ€§ä¿¡æ¯çš„ç‰¹æ€§ï¼›åŒ…å«è‡ªå·±çš„æ–‡æ¡£ã€‚ C# æä¾›äº†è¯­è¨€æ„é€ æ¥ç›´æ¥æ”¯æŒè¿™äº›æ¦‚å¿µï¼Œè®© C# æˆä¸ºä¸€ç§éå¸¸è‡ªç„¶çš„è¯­è¨€ï¼Œå¯ç”¨äºåˆ›å»ºå’Œä½¿ç”¨è½¯ä»¶ç»„ä»¶ã€‚</li><li>å¤šé¡¹ C# åŠŸèƒ½æœ‰åŠ©äºæ„é€ å¯é è€ç”¨çš„åº”ç”¨ç¨‹åºï¼šåƒåœ¾å›æ”¶å¯è‡ªåŠ¨å›æ”¶æ— æ³•è®¿é—®çš„æœªä½¿ç”¨å¯¹è±¡å ç”¨çš„å†…å­˜ï¼›å¼‚å¸¸å¤„ç†æä¾›äº†ä¸€ç§ç»“æ„åŒ–çš„å¯æ‰©å±•æ–¹æ³•æ¥æ‰§è¡Œé”™è¯¯æ£€æµ‹å’Œæ¢å¤ï¼›C# è¯­è¨€çš„ç±»å‹å®‰å…¨è®¾è®¡ç¦æ­¢è¯»å–æœªåˆå§‹åŒ–çš„å˜é‡ã€ä¸ºèŒƒå›´ä¹‹å¤–çš„æ•°ç»„ç¼–åˆ¶ç´¢å¼•æˆ–æ‰§è¡Œæœªæ£€æŸ¥çš„ç±»å‹è½¬æ¢ã€‚</li><li>C# é‡‡ç”¨ç»Ÿä¸€çš„ç±»å‹ç³»ç»Ÿã€‚ æ‰€æœ‰ C# ç±»å‹ï¼ˆåŒ…æ‹¬ int å’Œ double ç­‰åŸºå…ƒç±»å‹ï¼‰å‡ç»§æ‰¿è‡ªä¸€ä¸ªæ ¹ object ç±»å‹ã€‚ å› æ­¤ï¼Œæ‰€æœ‰ç±»å‹å…±ç”¨ä¸€ç»„é€šç”¨è¿ç®—ï¼Œä»»ä½•ç±»å‹çš„å€¼éƒ½å¯ä»¥ä¸€è‡´åœ°è¿›è¡Œå­˜å‚¨ã€ä¼ è¾“å’Œå¤„ç†ã€‚ æ­¤å¤–ï¼ŒC# è¿˜æ”¯æŒç”¨æˆ·å®šä¹‰çš„å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼Œä»è€Œæ”¯æŒå¯¹è±¡åŠ¨æ€åˆ†é…ä»¥åŠè½»é‡çº§ç»“æ„çš„å†…åµŒå¼å­˜å‚¨ã€‚<br>ä¸ºäº†ç¡®ä¿ C# ç¨‹åºå’Œåº“èƒ½å¤Ÿéšç€æ—¶é—´çš„æ¨ç§»ä»¥å…¼å®¹çš„æ–¹å¼å‘å±•ï¼ŒC# è®¾è®¡æ›´å¼ºè°ƒç‰ˆæœ¬æ§åˆ¶ã€‚ è®¸å¤šç¼–ç¨‹è¯­è¨€å¾ˆå°‘å…³æ³¨è¿™ä¸ªé—®é¢˜ï¼Œå› æ­¤ï¼Œå½“å¼•å…¥æ–°ç‰ˆä¾èµ–åº“æ—¶ï¼Œç”¨è¿™äº›è¯­è¨€ç¼–å†™çš„ç¨‹åºä¼šå‡ºç°æ›´å¤šä¸å¿…è¦çš„ä¸­æ–­ç°è±¡ã€‚ ç”±äºæ›´å¼ºè°ƒç‰ˆæœ¬æ§åˆ¶ï¼Œç›´æ¥å—å½±å“çš„ C# è®¾è®¡æ–¹é¢åŒ…æ‹¬å•ç‹¬çš„ virtual å’Œ override ä¿®é¥°ç¬¦ã€å…³äºæ–¹æ³•é‡è½½å†³ç­–çš„è§„åˆ™ï¼Œä»¥åŠå¯¹æ˜¾å¼æ¥å£æˆå‘˜å£°æ˜çš„æ”¯æŒã€‚</li><li>C# æ˜¯ä¸“ä¸ºå…¬å…±è¯­è¨€åŸºç¡€ç»“æ„ï¼ˆCLIï¼‰è®¾è®¡çš„ã€‚CLI ç”±å¯æ‰§è¡Œä»£ç å’Œè¿è¡Œæ—¶ç¯å¢ƒç»„æˆï¼Œå…è®¸åœ¨ä¸åŒçš„è®¡ç®—æœºå¹³å°å’Œä½“ç³»ç»“æ„ä¸Šä½¿ç”¨å„ç§é«˜çº§è¯­è¨€ã€‚<br>ä¸‹é¢åˆ—å‡ºäº† C# æˆä¸ºä¸€ç§å¹¿æ³›åº”ç”¨çš„ä¸“ä¸šè¯­è¨€çš„åŸå› ï¼š<br>ç°ä»£çš„ã€é€šç”¨çš„ç¼–ç¨‹è¯­è¨€ã€‚<br>é¢å‘å¯¹è±¡ã€‚<br>é¢å‘ç»„ä»¶ã€‚<br>å®¹æ˜“å­¦ä¹ ã€‚<br>ç»“æ„åŒ–è¯­è¨€ã€‚<br>å®ƒäº§ç”Ÿé«˜æ•ˆç‡çš„ç¨‹åºã€‚<br>å®ƒå¯ä»¥åœ¨å¤šç§è®¡ç®—æœºå¹³å°ä¸Šç¼–è¯‘ã€‚<br>.Net æ¡†æ¶çš„ä¸€éƒ¨åˆ†ã€‚<br>C# å¼ºå¤§çš„ç¼–ç¨‹åŠŸèƒ½<br>è™½ç„¶ C# çš„æ„æƒ³ååˆ†æ¥è¿‘äºä¼ ç»Ÿé«˜çº§è¯­è¨€ C å’Œ C++ï¼Œæ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œä½†æ˜¯å®ƒä¸ Java éå¸¸ç›¸ä¼¼ï¼Œæœ‰è®¸å¤šå¼ºå¤§çš„ç¼–ç¨‹åŠŸèƒ½ï¼Œå› æ­¤å¾—åˆ°å¹¿å¤§ç¨‹åºå‘˜çš„é’çã€‚<br>ä¸‹é¢åˆ—å‡º C# ä¸€äº›é‡è¦çš„åŠŸèƒ½ï¼š<br>å¸ƒå°”æ¡ä»¶ï¼ˆBoolean Conditionsï¼‰<br>è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼ˆAutomatic Garbage Collectionï¼‰<br>æ ‡å‡†åº“ï¼ˆStandard Libraryï¼‰<br>ç»„ä»¶ç‰ˆæœ¬ï¼ˆAssembly Versioningï¼‰<br>å±æ€§ï¼ˆPropertiesï¼‰å’Œäº‹ä»¶ï¼ˆEventsï¼‰<br>å§”æ‰˜ï¼ˆDelegatesï¼‰å’Œäº‹ä»¶ç®¡ç†ï¼ˆEvents Managementï¼‰<br>æ˜“äºä½¿ç”¨çš„æ³›å‹ï¼ˆGenericsï¼‰<br>ç´¢å¼•å™¨ï¼ˆIndexersï¼‰<br>æ¡ä»¶ç¼–è¯‘ï¼ˆConditional Compilationï¼‰<br>ç®€å•çš„å¤šçº¿ç¨‹ï¼ˆMultithreadingï¼‰<br>LINQ å’Œ Lambda è¡¨è¾¾å¼<br>é›†æˆ Windows<br>è¯¦ç»†æŒ‡å—å¯å‚è€ƒmsdnï¼Œ.netå®˜æ–¹æŒ‡å—</li></ul>]]></content>
      
      <categories>
          
          <category> C# </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Webæ¸—é€æµ‹è¯•</title>
      <link href="/2016/04/20/Web%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
      <url>/2016/04/20/Web%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="æ¸—é€æµ‹è¯•æµç¨‹"><a href="#æ¸—é€æµ‹è¯•æµç¨‹" class="headerlink" title="æ¸—é€æµ‹è¯•æµç¨‹"></a><strong>æ¸—é€æµ‹è¯•æµç¨‹</strong></h2><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1frma0a4ur7j30ju0lt40g.jpg" alt=" "></p><hr><h2 id="æ¸—é€æµ‹è¯•æ‰§è¡Œæ ‡å‡†"><a href="#æ¸—é€æµ‹è¯•æ‰§è¡Œæ ‡å‡†" class="headerlink" title="æ¸—é€æµ‹è¯•æ‰§è¡Œæ ‡å‡†"></a><strong>æ¸—é€æµ‹è¯•æ‰§è¡Œæ ‡å‡†</strong></h2><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1frma22s4uaj30p055oh22.jpg" alt=" "></p><hr><h2 id="å…·ä½“æŠ€æœ¯ç‚¹"><a href="#å…·ä½“æŠ€æœ¯ç‚¹" class="headerlink" title="å…·ä½“æŠ€æœ¯ç‚¹"></a><strong>å…·ä½“æŠ€æœ¯ç‚¹</strong></h2><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1frma3ji8maj30yg1wuthq.jpg" alt=" "></p><hr><h2 id="æ¸—é€çš„è‰ºæœ¯"><a href="#æ¸—é€çš„è‰ºæœ¯" class="headerlink" title="æ¸—é€çš„è‰ºæœ¯"></a><strong>æ¸—é€çš„è‰ºæœ¯</strong></h2><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1frma3ji8maj30yg1wuthq.jpg" alt=" "></p>]]></content>
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸—é€ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Pythoné¢å‘å¯¹è±¡</title>
      <link href="/2016/04/01/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"/>
      <url>/2016/04/01/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="é¢å‘å¯¹è±¡çš„ç¼–ç¨‹"><a href="#é¢å‘å¯¹è±¡çš„ç¼–ç¨‹" class="headerlink" title="é¢å‘å¯¹è±¡çš„ç¼–ç¨‹"></a><strong>é¢å‘å¯¹è±¡çš„ç¼–ç¨‹</strong></h2><p>ç±»ä¸å¯¹è±¡æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸¤ä¸ªä¸»è¦æ–¹é¢ã€‚ä¸€ä¸ªç±»èƒ½å¤Ÿåˆ›å»ºä¸€ç§æ–°çš„ç±»å‹ ï¼Œå…¶ä¸­å¯¹è±¡å°±æ˜¯ç±»çš„å®ä¾‹ã€‚å¯ä»¥è¿™æ ·æ¥ç±»æ¯”:ä½ å¯ä»¥æ‹¥æœ‰ç±»å‹ int çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯è¯´å­˜å‚¨æ•´æ•°çš„å˜é‡æ˜¯ int ç±»çš„å®ä¾‹ã€‚ </p><blockquote><p>å³ä½¿æ˜¯æ•´æ•°ä¹Ÿä¼šè¢«è§†ä¸ºå¯¹è±¡ã€‚è¿™ä¸åŒäº C++ ä¸c#ï¼Œåœ¨å®ƒä»¬é‚£å„¿æ•´æ•°æ˜¯åŸå§‹å†…ç½®ç±»å‹  </p></blockquote><ul><li><strong>åœ¨Pythonä¸­ï¼Œä¸€åˆ‡çš†ä¸ºå¯¹è±¡</strong>ã€‚ </li></ul><p>å¯¹è±¡å¯ä»¥ä½¿ç”¨å±äºå®ƒçš„æ™®é€šå˜é‡æ¥å­˜å‚¨æ•°æ®ã€‚è¿™ç§ä»å±äºå¯¹è±¡æˆ–ç±»çš„å˜é‡å«ä½œå­—æ®µ ã€‚å¯¹è±¡è¿˜å¯ä»¥ä½¿ç”¨å±äºç±»çš„å‡½æ•°æ¥å®ç°æŸäº›åŠŸèƒ½ï¼Œè¿™ç§å‡½æ•°å«ä½œç±»çš„æ–¹æ³• ã€‚è¿™ä¸¤ä¸ªæœ¯è¯­å¾ˆé‡è¦ï¼Œå®ƒæœ‰åŠ©äºæˆ‘ä»¬åŒºåˆ†å‡½æ•°ä¸å˜é‡ï¼Œå“ªäº›æ˜¯ç‹¬ç«‹çš„ï¼Œå“ªäº›åˆæ˜¯å±äºç±»æˆ–å¯¹è±¡çš„ã€‚æ€»ä¹‹ï¼Œå­—æ®µä¸æ–¹æ³•é€šç§°ç±»çš„å±æ€§ã€‚<br>å­—æ®µæœ‰ä¸¤ç§ç±»å‹â€”â€”å®ƒä»¬å±äºæŸä¸€ç±»çš„å„ä¸ªå®ä¾‹æˆ–å¯¹è±¡ï¼Œæˆ–æ˜¯ä»å±äºæŸä¸€ç±»æœ¬èº«ã€‚å®ƒä»¬è¢«åˆ†åˆ«ç§°ä½œå®ä¾‹å˜é‡ä¸ç±»å˜é‡ã€‚ </p><hr><h2 id="self"><a href="#self" class="headerlink" title="self"></a><strong>self</strong></h2><p>ç±»æ–¹æ³•ä¸æ™®é€šå‡½æ•°åªæœ‰ä¸€ç§ç‰¹å®šçš„åŒºåˆ«â€”â€”å‰è€…å¿…é¡»æœ‰ä¸€ä¸ªé¢å¤–çš„åå­—ï¼Œè¿™ä¸ªåå­—å¿…é¡»æ·»åŠ åˆ°å‚æ•°åˆ—è¡¨çš„å¼€å¤´ï¼Œä½†æ˜¯ä½ ä¸ç”¨åœ¨ä½ è°ƒç”¨è¿™ä¸ªåŠŸèƒ½æ—¶ä¸ºè¿™ä¸ªå‚æ•°èµ‹å€¼ï¼ŒPython ä¼šä¸ºå®ƒæä¾›ã€‚ è¿™ç§ç‰¹å®šçš„å˜é‡å¼•ç”¨çš„æ˜¯å¯¹è±¡æœ¬èº«ï¼ŒæŒ‰ç…§æƒ¯ä¾‹ï¼Œå®ƒè¢«èµ‹ô°€ self è¿™ä¸€åç§°ã€‚ </p><blockquote><p>Python ä¸­çš„ self ç›¸å½“äº C++ ä¸­çš„æŒ‡é’ˆä»¥åŠ Java ä¸ C# ä¸­çš„ this æŒ‡é’ˆã€‚  </p></blockquote><hr><h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a><strong>ç±»</strong></h2><p>è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ç±»ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class Person:  </span><br><span class="line">    pass   # ç©ºçš„ä»£ç å—  </span><br><span class="line">p = Person()  # åˆ›å»ºPersonçš„å¯¹è±¡p</span><br></pre></td></tr></table></figure></p><hr><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a><strong>æ–¹æ³•</strong></h2><p>ä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼š </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class Person:  </span><br><span class="line">     def sayHi(self):  </span><br><span class="line">     print(â€˜Hello, Worldâ€™)  </span><br><span class="line">p = Person()  </span><br><span class="line">p.sayHi()</span><br></pre></td></tr></table></figure><ul><li>è¾“å‡º:  <code>Hello, World</code> </li></ul><blockquote><p>å”¯ä¸€ä¸å‡½æ•°ä¸åŒçš„åœ°æ–¹åœ¨äºè¿™é‡Œå¤šäº†ä¸€ä¸ªself  </p></blockquote><hr><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a><strong>ç»§æ‰¿</strong></h2><p>é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€å¤§ä¼˜ç‚¹æ˜¯å¯¹ä»£ç çš„é‡ç”¨ï¼Œé‡ç”¨çš„ä¸€ç§å®ç°æ–¹æ³•å°±æ˜¯é€šè¿‡ç»§æ‰¿æœºåˆ¶ã€‚ç»§æ‰¿æŒ‡çš„æ˜¯æ ¹æ®ä¸€ä¸ªç°æœ‰çš„ç±»å‹ï¼Œå®šä¹‰ä¸€ä¸ªä¿®æ”¹ç‰ˆæœ¬çš„æ–°ç±»çš„èƒ½åŠ›ã€‚ç»§æ‰¿æœ€å¥½æ˜¯æƒ³è±¡æˆåœ¨ç±»ä¹‹é—´å®ç°ç±»å‹ä¸å­ç±»å‹å…³ç³»çš„å·¥å…·ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">class SchoolMember: &apos;&apos;&apos;ä»£è¡¨ä»»ä½•å­¦æ ¡é‡Œçš„æˆå‘˜ã€‚&apos;&apos;&apos;</span><br><span class="line">def __init__(self, name, age):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        print(&apos;(Initialized SchoolMember: &#123;&#125;)&apos;.format(self.name))</span><br><span class="line">def tell(self):</span><br><span class="line">&apos;&apos;&apos;å‘Šè¯‰æˆ‘æœ‰å…³æˆ‘çš„ç»†èŠ‚ã€‚&apos;&apos;&apos;</span><br><span class="line">print(&apos;Name:&quot;&#123;&#125;&quot; Age:&quot;&#123;&#125;&quot;&apos;.format(self.name, self.age), end=&quot; &quot;)</span><br><span class="line">class Teacher(SchoolMember): &apos;&apos;&apos;ä»£è¡¨ä¸€ä½è€å¸ˆã€‚&apos;&apos;&apos;</span><br><span class="line">def __init__(self, name, age, salary):</span><br><span class="line">        SchoolMember.__init__(self, name, age)</span><br><span class="line">        self.salary = salary</span><br><span class="line">        print(&apos;(Initialized Teacher: &#123;&#125;)&apos;.format(self.name))</span><br><span class="line">    def tell(self):</span><br><span class="line">        SchoolMember.tell(self)</span><br><span class="line">        print(&apos;Salary: &quot;&#123;:d&#125;&quot;&apos;.format(self.salary))</span><br><span class="line">class Student(SchoolMember): &apos;&apos;&apos;ä»£è¡¨ä¸€ä½å­¦ç”Ÿã€‚&apos;&apos;&apos;</span><br><span class="line">def __init__(self, name, age, marks):</span><br><span class="line">        SchoolMember.__init__(self, name, age)</span><br><span class="line">        self.marks = marks</span><br><span class="line">        print(&apos;(Initialized Student: &#123;&#125;)&apos;.format(self.name))</span><br><span class="line">    def tell(self):</span><br><span class="line">        SchoolMember.tell(self)</span><br><span class="line">        print(&apos;Marks: &quot;&#123;:d&#125;&quot;&apos;.format(self.marks))</span><br><span class="line">t = Teacher(&apos;Mrs. Shrividya&apos;, 40, 30000)</span><br><span class="line">s = Student(&apos;Swaroop&apos;, 25, 75)</span><br><span class="line"># æ‰“å°ä¸€è¡Œç©ºç™½è¡Œ print()</span><br><span class="line">members = [t, s]</span><br><span class="line">for member in members:</span><br><span class="line"># å¯¹å…¨ä½“å¸ˆç”Ÿå·¥ä½œ member.tell()</span><br></pre></td></tr></table></figure></p><blockquote><p>æœ‰ä¸€äº›ç‰¹å¾æ˜¯ä»–ä»¬éƒ½å…·æœ‰çš„ï¼Œä¾‹å¦‚å§“åã€å¹´é¾„å’Œåœ°å€ã€‚å¦å¤–ä¸€äº›ç‰¹å¾æ˜¯ä»–ä»¬ç‹¬æœ‰çš„ï¼Œä¸€å¦‚æ•™å¸ˆçš„è–ªæ°´ã€è¯¾ç¨‹ä¸å‡æœŸï¼Œå­¦ç”Ÿçš„æˆç»©å’Œå­¦è´¹ã€‚ä½ å¯ä»¥ä¸ºæ¯ä¸€ç§ç±»å‹åˆ›å»ºä¸¤ä¸ªç‹¬ç«‹çš„ç±»ï¼Œå¹¶å¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ã€‚ä½†å¢æ·»ä¸€æ¡å…±æœ‰ç‰¹å¾å°±æ„å‘³ç€å°†å…¶æ·»åŠ è¿›ä¸¤ä¸ªç‹¬ç«‹çš„ç±»ã€‚è¿™å¾ˆå¿«å°±ä¼šä½¿ç¨‹åºå˜å¾—ç¬¨é‡ã€‚<br>ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªå…¬å…±ç±»å«ä½œ SchoolMember ï¼Œç„¶åè®©æ•™å¸ˆå’Œå­¦ç”Ÿä»è¿™ä¸ªç±»ä¸­ç»§æ‰¿ ï¼Œä¹Ÿå°±æ˜¯è¯´ä»–ä»¬å°†æˆä¸ºè¿™ä¸€ç±»å‹(ç±»)çš„å­ç±»å‹ï¼Œè€Œæˆ‘ä»¬å°±å¯ä»¥å‘è¿™äº›å­ç±»å‹ä¸­æ·»åŠ æŸäº›è¯¥ç±»ç‹¬æœ‰çš„ç‰¹å¾ã€‚<br>è¿™ç§æ–¹æ³•æœ‰è¯¸å¤šä¼˜ç‚¹ã€‚å¦‚æœæˆ‘ä»¬å¢åŠ æˆ–ä¿®æ”¹äº† SchoolMember çš„ä»»ä½•åŠŸèƒ½ï¼Œå®ƒå°†è‡ªåŠ¨åæ˜ åœ¨å­ç±»å‹ä¸­ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥é€šè¿‡ç®€å•åœ°å‘ SchoolMember ç±»è¿›è¡Œæ“ä½œï¼Œæ¥ä¸ºæ‰€æœ‰è€å¸ˆä¸å­¦ç”Ÿæ·»åŠ ä¸€æ¡æ–°çš„ ID å¡å­—æ®µã€‚ä¸è¿‡ï¼Œå¯¹æŸä¸€å­ç±»å‹ä½œå‡ºçš„æ”¹åŠ¨å¹¶ä¸ä¼šå½±å“åˆ°å…¶å®ƒå­ç±»å‹ã€‚å¦ä¸€å¤§ä¼˜ç‚¹æ˜¯ä½ å¯ä»¥å°†æŸä¸€è€å¸ˆæˆ–å­¦ç”Ÿå¯¹è±¡çœ‹ä½œ SchoolMember çš„å¯¹è±¡å¹¶åŠ ä»¥å¼•ç”¨ï¼Œè¿™åœ¨æŸäº›æƒ…å†µä¸‹ä¼šå¤§ä¸ºæœ‰ç”¨ï¼Œä¾‹å¦‚æ¸…ç‚¹å­¦æ ¡ä¸­çš„æˆå‘˜æ•°é‡ã€‚è¿™è¢«ç§°ä½œå¤šæ€æ€§(Polymorphism)ï¼Œåœ¨ä»»ä½•æƒ… å†µä¸‹ï¼Œå¦‚æœçˆ¶ç±»å‹å¸Œæœ›ï¼Œå­ç±»å‹éƒ½å¯ä»¥è¢«æ›¿æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥å¯¹è±¡å¯ä»¥è¢«çœ‹ä½œçˆ¶ç±»çš„å®ä¾‹ã€‚<br>åŒæ—¶è¿˜éœ€è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬é‡ç”¨çˆ¶ç±»çš„ä»£ç ï¼Œä½†æˆ‘ä»¬ä¸éœ€è¦å†å…¶å®ƒç±»ä¸­é‡å¤å®ƒä»¬ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ç‹¬ç«‹ç±»å‹æ—¶æ‰ä¼šå¿…è¦åœ°é‡å¤è¿™äº›ä»£ç ã€‚  </p></blockquote>]]></content>
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OOP </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Pythonæ•°æ®ç»“æ„</title>
      <link href="/2016/04/01/Python%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
      <url>/2016/04/01/Python%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a><strong>å­—ç¬¦ä¸²</strong></h2><p><strong>å­—ç¬¦ä¸²</strong>æ˜¯å­—ç¬¦çš„åºåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·ã€åŒå¼•å·åŠä¸‰å¼•å·æ¥æŒ‡å®šå­—ç¬¦ä¸²<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name = &apos;etnly&apos;   </span><br><span class="line">name = &quot;etnly&quot;   </span><br><span class="line"># ä¸¤è€…å·¥ä½œæœºåˆ¶å®Œå…¨ç›¸åŒ   </span><br><span class="line">&apos;&apos;&apos;è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²   </span><br><span class="line">è¿™æ˜¯ç¬¬äºŒè¡Œ   </span><br><span class="line">è¿™ä½æ˜¯ç¬¬ä¸‰è¡Œ&apos;&apos;&apos;</span><br></pre></td></tr></table></figure></p><blockquote><p>åœ¨ç¨‹åºä¸­ä½¿ç”¨çš„æ‰€æœ‰å­—ç¬¦ä¸²éƒ½æ˜¯strç±»ä¸‹çš„å¯¹è±¡ï¼Œå¹¶ä¸”å®ƒä¹Ÿå…·æœ‰è‡ªå·±çš„æ–¹æ³•ï¼Œå…·ä½“çš„æ–¹æ³•æ¸…å•å¯ä»¥æŸ¥é˜…   help(str)   ã€‚  </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> # è¿”å›å­—ç¬¦ä¸²é•¿åº¦</span><br><span class="line">name = &apos;etnly&apos;</span><br><span class="line">len(name)</span><br><span class="line"> # éå†å­—ç¬¦ä¸²</span><br><span class="line">name = &apos;etnly&apos;</span><br><span class="line">for i in name:</span><br><span class="line">    print(i)</span><br><span class="line"> # å­—ç¬¦ä¸²åˆ‡ç‰‡</span><br><span class="line">print(name[1:3])</span><br><span class="line"> # è¾“å‡º tn</span><br></pre></td></tr></table></figure><hr><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a><strong>åˆ—è¡¨</strong></h2><p><strong>åˆ—è¡¨</strong>æ˜¯ä¸€ç§ç”¨äºä¿å­˜ä¸€ç³»åˆ—æœ‰åºé¡¹ç›®çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥åˆ©ç”¨åˆ—è¡¨ä¿å­˜ä¸€ä¸²é¡¹ç›®çš„åºåˆ—ã€‚å’Œå­—ç¬¦ä¸²ç±»ä¼¼ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­è¿™äº›é¡¹ç›®æ˜¯å­—ç¬¦ï¼Œè€Œåˆ—è¡¨ä¸­å®ƒå¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œåˆ—è¡¨ä¸­çš„å€¼ç§°ä¸º<em>å…ƒç´ </em>ã€‚</p><ul><li>åˆ›å»ºåˆ—è¡¨æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ [] æ–¹æ‹¬å·ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = [1, 2, 3]   </span><br><span class="line">name = [&apos;å¼ ä¸‰&apos;, &apos;æå››&apos;]   </span><br><span class="line">other = [[1, 2, 3], &apos;a&apos;, &apos;b&apos; 3.0]</span><br></pre></td></tr></table></figure><blockquote><p>å­—ç¬¦ä¸²çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼Œè€Œåˆ—è¡¨çš„å€¼æ˜¯å¯å˜çš„ã€‚å¦‚ï¼š   </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">num[1] = 3   </span><br><span class="line">print(num)</span><br></pre></td></tr></table></figure><ul><li>è¾“å‡ºï¼š<br><code>[1, 3, 3]</code>  </li></ul><blockquote><p>åˆ—è¡¨å¯¹è±¡ä¹Ÿæœ‰è‡ªå·±çš„æ–¹æ³•ï¼Œå…·ä½“å¯ä»¥æŸ¥é˜…   help(list)   ã€‚  </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> # åˆ—è¡¨éå†</span><br><span class="line">num = [1, 2, 3]</span><br><span class="line">for i in num:</span><br><span class="line">    print(i)</span><br><span class="line"> # åˆ—è¡¨æ‹¼æ¥</span><br><span class="line">num2 = [2, 3, 4]</span><br><span class="line">num3 = num + num2</span><br><span class="line"> # åˆ—è¡¨åˆ‡ç‰‡</span><br><span class="line">print(num3[1:3])</span><br><span class="line"> # è¿™é‡Œè¾“å‡º [2, 3]</span><br><span class="line"> # æ·»åŠ å…ƒç´ </span><br><span class="line">num.append(4)</span><br></pre></td></tr></table></figure><hr><h2 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a><strong>å­—å…¸</strong></h2><p>å­—å…¸ç±»ä¼¼äºåˆ—è¡¨ï¼Œä½†æ›´åŠ é€šç”¨ï¼Œåœ¨åˆ—è¡¨ä¸­ä¸‹è¡¨å¿…é¡»æ˜¯æ•´æ•°ï¼Œè€Œå­—å…¸ä¸­ï¼Œä¸‹æ ‡åŸºæœ¬å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚</p><p>å­—å…¸åŒ…å«é”®ï¼ˆä¸‹æ ‡ï¼‰å’Œå€¼ã€‚æ¯ä¸€ä¸ªé”®éƒ½å…³è”ä¸€ä¸ªå€¼ï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºé”®å€¼å¯¹ï¼Œå­—å…¸ä½“ç°äº†é”®åˆ°å€¼çš„æ˜ å°„ï¼Œæ‰€ä»¥å¯ä»¥è¯´æ¯ä¸€ä¸ªé”®æ˜ å°„åˆ°ä¸€ä¸ªå€¼ã€‚</p><ul><li><p>æ–°å»ºä¸€ä¸ªå­—å…¸å¯ä»¥ï¼š</p><p> <code>d = {&#39;a&#39; : 1, &#39;b&#39; : 2, &#39;c&#39; : 3}</code><br> <code>d = dict() # æ–°å»ºä¸€ä¸ªç©ºå­—å…¸</code></p></li></ul><blockquote><p>å­—å…¸æ˜¯é€šè¿‡æ•£åˆ—è¡¨çš„æ–¹å¼å®ç°çš„ï¼Œæ„å‘³ç€é”®å¿…é¡»æ˜¯å¯æ•£åˆ—çš„ã€‚<br>æ•£åˆ—æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶å€¼å¹¶è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œå­—å…¸ä½¿ç”¨è¿™äº›è¢«ç§°ä¸ºæ•£åˆ—å€¼çš„æ•´æ•°æ¥ä¿å­˜å’ŒæŸ¥æ‰¾é”®å€¼å¯¹ã€‚  </p></blockquote><hr><h2 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a><strong>å…ƒç»„</strong></h2><p>å…ƒç»„ç”¨äºå°†å¤šä¸ªå¯¹è±¡ä¿å­˜åˆ°ä¸€èµ·ï¼Œå…¶å€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œå¹¶æŒ‰ç…§ä¸‹æ ‡ç´¢å¼•ï¼Œå…ƒç»„å’Œåˆ—è¡¨éå¸¸ç›¸ä¼¼ï¼Œå…¶äºŒè€…ä¸»è¦åŒºåˆ«åœ¨äºï¼Œå…ƒç»„æ˜¯ä¸å¯å˜çš„ã€‚å…ƒç»„é€šå¸¸ç”¨äºä¿è¯æŸä¸€è¯­å¥æˆ–æŸä¸€ç”¨æˆ·å®šä¹‰çš„å‡½æ•°å¯ä»¥å®‰å…¨åœ°é‡‡ç”¨ä¸€ç»„æ•°å€¼ã€‚</p><ul><li><p>å…ƒç»„è¯­æ³•ä¸Šç”¨é€—å·åˆ†éš”ä¸€åˆ—å€¼ï¼Œå¯ä»¥ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼š</p><p> <code>t = &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, 1, 2</code><br> <code>t = (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, 1, 2)</code></p></li></ul><blockquote><p>ç”¨æ‹¬å·æ‹¬èµ·æ¥å•ç‹¬çš„å€¼å¦‚   t = (â€˜aâ€™)   å¹¶ä¸æ˜¯å…ƒç»„ï¼Œå¦‚è¦æ–°å»ºå…ƒç»„å¯ä»¥ä½¿ç”¨å†…ç½®å‡½æ•°tuple  </p></blockquote><p><code>t = tuple()</code></p><blockquote><p>ä¸¥æ ¼çš„æ¥è¯´å‡½æ•°åªèƒ½è¿”å›ä¸€ä¸ªå€¼ï¼Œä½†å¦‚æœè¿”å›çš„æ˜¯å…ƒç»„ï¼Œå°±å¯ä»¥è¾¾åˆ°ç±»ä¼¼è¿”å›å¤šä¸ªå€¼çš„æ•ˆæœã€‚  </p></blockquote><h3 id="å…ƒç»„ã€åˆ—è¡¨å’Œå­—å…¸"><a href="#å…ƒç»„ã€åˆ—è¡¨å’Œå­—å…¸" class="headerlink" title="å…ƒç»„ã€åˆ—è¡¨å’Œå­—å…¸"></a><strong>å…ƒç»„ã€åˆ—è¡¨å’Œå­—å…¸</strong></h3><h4 id="åˆ—è¡¨å’Œå…ƒç»„"><a href="#åˆ—è¡¨å’Œå…ƒç»„" class="headerlink" title="åˆ—è¡¨å’Œå…ƒç»„"></a>åˆ—è¡¨å’Œå…ƒç»„</h4><p>zipå‡½æ•°ï¼Œæ¥æ”¶ä¸¤ä¸ªæˆ–å¤šä¸ªåºåˆ—ï¼Œå¹¶è¿”å›ä¸€ä¸ªå…ƒç»„åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç»„åŒ…å«æ¥è‡ªæ¯ä¸ªåºåˆ—çš„ä¸€ä¸ªå…ƒç´ ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = &apos;abc&apos;   </span><br><span class="line">b = [0, 1, 2]   </span><br><span class="line">print(zip(a, b))</span><br></pre></td></tr></table></figure><ul><li>ç»“æœè¿”å›   <code>&lt;zip object at 0x10d5e1b08&gt;</code>  </li></ul><blockquote><p>è¿™æ˜¯ä¸€ä¸ªzipå¯¹è±¡ï¼Œå®ƒçŸ¥é“å¦‚ä½•éå†æ¯ä¸ªå…ƒç´ å¯¹ï¼Œzipå¯¹è±¡æ˜¯ä¸€ç§è¿­ä»£å™¨ï¼Œå³ç”¨æ¥è¿­ä»£è®¿é—®ä¸€ä¸ªåºåˆ—çš„å¯¹è±¡  </p></blockquote><p>ä½¿ç”¨zipæœ€å¸¸è§çš„æ–¹æ³•æ˜¯åœ¨forå¾ªç¯ä¸­ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for i in zip(a, b):   </span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure></p><ul><li>è¾“å‡ºï¼š<code>(&#39;a&#39;, 0) (&#39;b&#39;, 1) (&#39;c&#39;, 2)</code></li></ul><p>å¦‚æœéœ€è¦ä½¿ç”¨åˆ—è¡¨çš„æ“ä½œï¼Œå¯ä»¥åˆ©ç”¨zipå¯¹è±¡åˆ¶ä½œä¸€ä¸ªåˆ—è¡¨ï¼š<br> <code>list(zip(a, b))</code></p><h4 id="å­—å…¸å’Œå…ƒç»„"><a href="#å­—å…¸å’Œå…ƒç»„" class="headerlink" title="å­—å…¸å’Œå…ƒç»„"></a>å­—å…¸å’Œå…ƒç»„</h4><p>å­—å…¸æ–¹æ³•itemså¯ä»¥è¿”å›ä¸€ä¸ªå…ƒç»„åºåˆ—ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç»„æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;0 : &apos;a&apos;, 1 : &apos;b&apos;, 2 : &apos;c&apos;&#125;   </span><br><span class="line">t = d.items()   </span><br><span class="line">print(t)</span><br></pre></td></tr></table></figure></p><ul><li>è¾“å‡ºï¼š  <code>dict_items([(0, &#39;a&#39;), (1, &#39;b&#39;), (2, â€˜câ€™)])</code></li></ul><p>åè¿‡æ¥å¯ä»¥ä½¿ç”¨å…ƒç»„åˆ—è¡¨æ¥åˆå§‹åŒ–ä¸€ä¸ªå­—å…¸ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t = [(0, &apos;a&apos;), (1, &apos;b&apos;), (2, â€˜câ€™)]   </span><br><span class="line">d = dict(t)</span><br></pre></td></tr></table></figure></p><ul><li><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡dictå’Œitemså¾—åˆ°ä¸€ä¸ªç®€æ´çš„åˆ›å»ºæ–°å­—å…¸çš„æ–¹æ³•ï¼š</p><p><code>d = dict(zip(&#39;abc&#39;, range(3)))</code> </p></li></ul><hr><h2 id="åºåˆ—"><a href="#åºåˆ—" class="headerlink" title="åºåˆ—"></a><strong>åºåˆ—</strong></h2><p>åˆ—è¡¨ã€å…ƒç»„å’Œå­—ç¬¦ä¸²å¯ä»¥çœ‹ä½œåºåˆ—(Sequence)çš„æŸç§è¡¨ç°å½¢å¼ï¼Œåºåˆ—çš„ä¸»è¦åŠŸèƒ½æ˜¯èµ„æ ¼æµ‹è¯•(ä¹Ÿå°±æ˜¯ in ä¸ not in è¡¨è¾¾å¼)å’Œç´¢å¼•æ“ä½œï¼Œå®ƒä»¬èƒ½å¤Ÿå…è®¸æˆ‘ä»¬ç›´æ¥è·å–åºåˆ—ä¸­çš„ç‰¹å®šé¡¹ç›®ã€‚</p><hr><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a><strong>å¼•ç”¨</strong></h2><p>å½“ä½ åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡å¹¶å°†å…¶åˆ†é…ç»™æŸä¸ªå˜é‡æ—¶ï¼Œå˜é‡åªä¼šæŸ¥é˜…æŸä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å®ƒä¹Ÿ ä¸ä¼šä»£è¡¨å¯¹è±¡æœ¬èº«ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå˜é‡ååªæ˜¯æŒ‡å‘ä½ è®¡ç®—æœºå†…å­˜ä¸­å­˜å‚¨äº†ç›¸åº”å¯¹è±¡çš„é‚£ä¸€éƒ¨åˆ†ã€‚è¿™å«ä½œå°†åç§°ç»‘å®šç»™é‚£ä¸€ä¸ªå¯¹è±¡ã€‚</p>]]></content>
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PythonåŸºç¡€(2)</title>
      <link href="/2016/03/30/Python%E5%9F%BA%E7%A1%80(2)/"/>
      <url>/2016/03/30/Python%E5%9F%BA%E7%A1%80(2)/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a><strong>å‡½æ•°</strong></h2><p><strong>å‡½æ•°</strong>æ˜¯æŒ‡å¯é‡å¤ä½¿ç”¨çš„ç¨‹åºç‰‡æ®µã€‚å®ƒä»¬å…è®¸ä½ ä¸ºæŸä¸ªä»£ç å—èµ‹ô°€åå­—ï¼Œå…è®¸ä½ é€šè¿‡è¿™ä¸€ç‰¹æ®Šçš„åå­—åœ¨ä½ çš„ç¨‹åºä»»ä½•åœ°æ–¹æ¥è¿è¡Œä»£ç å—ï¼Œå¹¶å¯é‡å¤ä»»ä½•æ¬¡æ•°ã€‚è¿™å°±æ˜¯æ‰€è°“çš„è°ƒç”¨å‡½æ•°ã€‚</p><ul><li>å‡½æ•°å¯ä»¥é€šè¿‡å…³é”®å­— def æ¥å®šä¹‰ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def say():   </span><br><span class="line">    print(&apos;Hello, World&apos;)   </span><br><span class="line">say()</span><br></pre></td></tr></table></figure></li></ul><h3 id="å‡½æ•°å‚æ•°"><a href="#å‡½æ•°å‚æ•°" class="headerlink" title="å‡½æ•°å‚æ•°"></a><strong>å‡½æ•°å‚æ•°</strong></h3><p>å‡½æ•°å¯ä»¥è·å–å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°çš„å€¼ç”±ä½ æ‰€æä¾›ï¼Œå€Ÿæ­¤ï¼Œå‡½æ•°ä¾¿å¯ä»¥åˆ©ç”¨è¿™äº›å€¼æ¥åšä¸€äº›äº‹æƒ…ã€‚è¿™äº›å‚æ•°ä¸å˜é‡ç±»ä¼¼ï¼Œè¿™äº›å˜é‡çš„å€¼åœ¨æˆ‘ä»¬è°ƒç”¨å‡½æ•°æ—¶å·²è¢«å®šä¹‰ï¼Œä¸”åœ¨å‡½æ•°è¿è¡Œæ—¶å‡å·²èµ‹å€¼å®Œæˆã€‚åœ¨å®šä¹‰å‡½æ•° æ—¶ç»™å®šçš„åç§°ç§°ä½œâ€œå½¢å‚â€ï¼Œåœ¨è°ƒç”¨å‡½æ•°æ—¶ä½ æ‰€æä¾›ç»™å‡½æ•°çš„å€¼ç§°ä½œâ€œå®å‚â€ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def reaArea(a, b):   </span><br><span class="line">    s = a * b   </span><br><span class="line">    return s   </span><br><span class="line">x = 10   </span><br><span class="line">y = 5   </span><br><span class="line">print(reaArea(x, y))</span><br></pre></td></tr></table></figure></p><blockquote><p>ä»¥ä¸Šä¸ºè®¡ç®—æœºå‹é¢ç§¯çš„å‡½æ•°ï¼Œè°ƒç”¨reaAreaå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬ä»¥å˜é‡ä½œä¸ºå®å‚æ¥è°ƒç”¨å‡½æ•°ï¼Œä½¿å¾—xçš„å€¼èµ‹ç»™è¡Œå‚aã€yçš„å€¼èµ‹ç»™è¡Œå‚bï¼Œå¹¶è¿”å›ä¸¤è€…çš„ä¹˜ç§¯ã€‚  </p></blockquote><ul><li>å‡½æ•°å‚æ•°å¯ä»¥è®¾ç½®é»˜è®¤å‚æ•°å€¼ï¼Œå¦‚ï¼š<br><code>def reaArea(a , b = 5):</code></li></ul><p>æœ‰æ—¶å¯èƒ½æƒ³å®šä¹‰çš„å‡½æ•°é‡Œé¢èƒ½å¤Ÿæœ‰ä»»æ„æ•°é‡çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯å‚æ•°æ•°é‡æ˜¯å¯å˜çš„ï¼Œè¿™å¯ä»¥é€š è¿‡ä½¿ç”¨æ˜Ÿå·æ¥å®ç°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def func(a = 7, *b, **c):   </span><br><span class="line">    print(&apos;a&apos;, a)   </span><br><span class="line">    for i in b:   </span><br><span class="line">        print(&apos;b&apos;, i)   </span><br><span class="line">    for key, value in c.items():   </span><br><span class="line">        print(key, value)   </span><br><span class="line">func(10, 9, 8, 7, 6, 5, x = 1, y = 2, z = 3)</span><br></pre></td></tr></table></figure><ul><li>è¾“å‡ºï¼š<br><code>a 10   b 9   b 8   b 7   b 6   b 5   x 1   y 2   z 3</code></li></ul><blockquote><p>å½“å£°æ˜ä¸€ä¸ªå¦‚*a æ˜Ÿå·å‚æ•°æ—¶ï¼Œä»æ­¤å¤„å¼€å§‹ç›´åˆ°ç»“æŸçš„æ‰€æœ‰ä½ç½®å‚æ•°éƒ½å°†è¢«æ”¶é›†å¹¶æ±‡é›†æˆä¸€ä¸ªå…ƒç»„ã€‚<br>ç±»ä¼¼åœ°ï¼Œå½“å£°æ˜ä¸€ä¸ªè¯¸å¦‚ **b çš„åŒæ˜Ÿå·å‚æ•°æ—¶ï¼Œä»æ­¤å¤„å¼€å§‹ç›´è‡³ç»“æŸçš„æ‰€æœ‰å…³é”®å­—å‚æ•°éƒ½å°†è¢«æ”¶é›†å¹¶æ±‡é›†æˆä¸€ä¸ªå­—å…¸ã€‚  </p></blockquote><h3 id="å±€éƒ¨å˜é‡"><a href="#å±€éƒ¨å˜é‡" class="headerlink" title="å±€éƒ¨å˜é‡"></a><strong>å±€éƒ¨å˜é‡</strong></h3><p>åœ¨ä¸€ä¸ªå‡½æ•°çš„å®šä¹‰ä¸­å£°æ˜å˜é‡æ—¶ï¼Œå®ƒä»¬ä¸ä¼šä»¥ä»»ä½•æ–¹å¼ä¸å¤„äºå‡½æ•°ä¹‹å¤–ä½†å…·æœ‰ç›¸åŒåç§°çš„å˜é‡äº§ç”Ÿå…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›å˜é‡ååªå­˜åœ¨äºå‡½æ•°è¿™ä¸€å±€éƒ¨ã€‚è¿™è¢«ç§°ä¸ºå˜é‡çš„ä½œç”¨åŸŸã€‚æ‰€æœ‰å˜é‡çš„ä½œç”¨åŸŸæ˜¯å®ƒä»¬è¢«å®šä¹‰çš„å—ï¼Œä»å®šä¹‰å®ƒä»¬çš„åå­—çš„å®šä¹‰ç‚¹å¼€å§‹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">n = 7   </span><br><span class="line">def func(n):   </span><br><span class="line">    print(&quot;1:&quot;, n)   </span><br><span class="line">    n = 10   </span><br><span class="line">    print(&quot;2:&quot;, n)   </span><br><span class="line">func(n)   </span><br><span class="line">print(&quot;3:&quot;, n)</span><br></pre></td></tr></table></figure></p><ul><li>è¾“å‡ºï¼š<br><code>1: 7     2: 10     3: 7</code></li></ul><blockquote><p>ç¬¬ä¸€æ¬¡æ‰“å°å‡ºå­˜åœ¨äºå‡½æ•°å—ç¬¬ä¸€è¡Œåä¸º n çš„å€¼æ—¶ï¼Œä½¿ç”¨çš„æ˜¯åœ¨å‡½æ•°å£°æ˜ä¹‹ä¸Šçš„ä¸»ä»£ç å—ä¸­å£°æ˜çš„è¿™ä¸€å‚æ•°çš„å€¼ã€‚<br>æ¥ç€ï¼Œå°†10èµ‹å€¼ç»™nã€‚næ˜¯æˆ‘ä»¬è¿™ä¸€å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚å› æ­¤ï¼Œå½“æ”¹å˜å‡½æ•°ä¸­nçš„å€¼çš„æ—¶å€™ï¼Œä¸»ä»£ç å—ä¸­çš„nåˆ™ä¸ä¼šå—åˆ°å½±å“ã€‚<br>æœ€åä¸€å¥ print è¯­å¥ï¼Œæ‰“å°å‡ºä¸»ä»£ç å—ä¸­å®šä¹‰çš„nçš„å€¼ï¼Œç”±æ­¤ç¡®è®¤å®ƒä¸å—å…ˆå‰è°ƒç”¨çš„å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡çš„å½±å“ã€‚  </p></blockquote><h3 id="globalè¯­å¥"><a href="#globalè¯­å¥" class="headerlink" title="globalè¯­å¥"></a><strong>globalè¯­å¥</strong></h3><p>å¦‚æœæƒ³ç»™ä¸€ä¸ªåœ¨ç¨‹åºé¡¶å±‚çš„å˜é‡èµ‹å€¼(ä¹Ÿå°±æ˜¯è¯´å®ƒä¸å­˜åœ¨äºä»»ä½•ä½œç”¨åŸŸä¸­ï¼Œæ— è®ºæ˜¯å‡½æ•°è¿˜æ˜¯ç±»)ï¼Œé‚£ä¹ˆä½ å¿…é¡»å‘Šè¯‰ç¨‹åºè¿™ä¸€å˜é‡å¹¶éå±€éƒ¨çš„ï¼Œè€Œæ˜¯å…¨å±€çš„ã€‚æˆ‘ä»¬éœ€è¦é€šè¿‡globalè¯­å¥æ¥å®Œæˆè¿™ä»¶äº‹ã€‚å› ä¸ºåœ¨ä¸ä½¿ç”¨globalè¯­å¥çš„æƒ…å†µä¸‹ï¼Œä¸å¯èƒ½ä¸ºä¸€ä¸ªå®šä¹‰äºå‡½æ•°ä¹‹å¤–çš„å˜é‡èµ‹å€¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">n = 7   </span><br><span class="line">def func():   </span><br><span class="line">    global n   </span><br><span class="line">    print(&quot;1:&quot;, n)   </span><br><span class="line">    n = 10   </span><br><span class="line">    print(&quot;2:&quot;, n)   </span><br><span class="line">func()   </span><br><span class="line">print(&quot;3:&quot;, n)</span><br></pre></td></tr></table></figure><ul><li>è¾“å‡ºï¼š<br> <code>1: 7     2: 10     3: 10</code></li></ul><blockquote><p>globalè¯­å¥ç”¨ä»¥å£°æ˜næ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå› æ­¤ï¼Œå½“æˆ‘ä»¬åœ¨å‡½æ•°ä¸­ä¸ºnè¿›è¡Œèµ‹å€¼æ—¶ï¼Œè¿™ä¸€æ”¹åŠ¨å°†å½±å“åˆ°æˆ‘ä»¬åœ¨ä¸»ä»£ç å—ä¸­ä½¿ç”¨çš„nçš„å€¼  </p></blockquote><h3 id="return-è¯­å¥"><a href="#return-è¯­å¥" class="headerlink" title="return è¯­å¥"></a><strong>return è¯­å¥</strong></h3><p> return è¯­å¥ç”¨äºä»å‡½æ•°ä¸­è¿”å›ï¼Œä¹Ÿå°±æ˜¯ä¸­æ–­å‡½æ•°ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨ä¸­æ–­å‡½æ•°æ—¶ä»å‡½æ•°ä¸­è¿”å›ä¸€ä¸ªå€¼ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def reaArea(a, b):   </span><br><span class="line">    s = a * b   </span><br><span class="line">    return s   </span><br><span class="line">x = 10   </span><br><span class="line">y = 5   </span><br><span class="line">print(reaArea(x, y))</span><br></pre></td></tr></table></figure></p><blockquote><p>å¦‚æœ return è¯­å¥æ²¡æœ‰æ­é…ä»»ä½•ä¸€ä¸ªå€¼åˆ™ä»£è¡¨ç€è¿”å› None ã€‚ None åœ¨ Python ä¸­ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ï¼Œä»£è¡¨ç©ºã€‚  </p></blockquote>]]></content>
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PythonåŸºç¡€(1)</title>
      <link href="/2016/03/27/Python%E5%9F%BA%E7%A1%80(1)/"/>
      <url>/2016/03/27/Python%E5%9F%BA%E7%A1%80(1)/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><h2 id="èµ‹å€¼"><a href="#èµ‹å€¼" class="headerlink" title="èµ‹å€¼"></a><strong>èµ‹å€¼</strong></h2><p><strong>èµ‹å€¼è¯­å¥</strong>å¯ä»¥åˆ›å»ºæ–°çš„å˜é‡ï¼Œå¹¶ä¸ºå…¶èµ‹å€¼ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">say = &apos;Hello, World&apos;</span><br><span class="line">num = 7</span><br></pre></td></tr></table></figure></p><blockquote><p>ç¬¬ä¸€ä¸ªè¯­å¥å°†<strong>å­—ç¬¦ä¸²</strong>èµ‹ç»™â€œsayâ€å˜é‡ï¼›ç¬¬äºŒä¸ªè¯­å¥å°†17èµ‹ç»™numã€‚  </p></blockquote><hr><h2 id="è¡¨è¾¾å¼"><a href="#è¡¨è¾¾å¼" class="headerlink" title="è¡¨è¾¾å¼"></a><strong>è¡¨è¾¾å¼</strong></h2><p><strong>è¡¨è¾¾å¼</strong>æ˜¯å˜é‡ã€å€¼ã€æ“ä½œç¬¦çš„ç»„åˆï¼Œå•ç‹¬çš„å€¼ä¸å˜é‡ä¹Ÿè¢«çœ‹ä½œä¸€ä¸ªè¡¨è¾¾å¼</p><hr><h2 id="è¯­å¥"><a href="#è¯­å¥" class="headerlink" title="è¯­å¥"></a><strong>è¯­å¥</strong></h2><p><strong>è¯­å¥</strong>æ˜¯ä¸€æ®µå¯ä»¥äº§ç”Ÿæ•ˆæœçš„ä»£ç å•å…ƒï¼Œå¦‚åˆ›å»ºä¸€ä¸ªå˜é‡æˆ–æ˜¾ç¤ºä¸€ä¸ªå€¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">say = &apos;Hello, World&apos;</span><br><span class="line">print(say)</span><br></pre></td></tr></table></figure><blockquote><p>printè¯­å¥æ˜¾ç¤ºsayçš„å€¼  </p></blockquote><hr><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a><strong>æ³¨é‡Š</strong></h2><p>Pythonä¸­æ³¨é‡Šä»¥â€œ#â€å¼€å¤´ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># è¿™é‡Œæ˜¯æ³¨é‡Š </span><br><span class="line">say = &apos;Hello, World&apos; </span><br><span class="line">print(say) # è¾“å‡ºsayçš„å€¼</span><br></pre></td></tr></table></figure></p><blockquote><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œæ³¨é‡Šå¯ä»¥å•ç‹¬å ä¸€è¡Œï¼Œä¹Ÿå¯ä»¥åŠ å…¥åˆ°ä»£ç ç»“å°¾ã€‚  </p></blockquote><hr><h2 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a><strong>æ§åˆ¶æµ</strong></h2><h3 id="ifè¯­å¥"><a href="#ifè¯­å¥" class="headerlink" title="ifè¯­å¥"></a><strong>ifè¯­å¥</strong></h3><p><strong>ifè¯­å¥</strong>ç”¨ä»¥æ£€æŸ¥æ¡ä»¶:å¦‚æœ æ¡ä»¶ä¸ºçœŸ(True)ï¼Œæˆ‘ä»¬å°†è¿è¡Œä¸€å—è¯­å¥(if å—)ï¼Œå¦åˆ™ æˆ‘ä»¬å°†è¿è¡Œå¦ä¸€å—è¯­å¥(else å—)ã€‚else ä»å¥æ˜¯å¯é€‰ çš„ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">num = 7 </span><br><span class="line">if num &gt; 0: </span><br><span class="line">   print(&apos;numä¸ºæ­£æ•°&apos;) </span><br><span class="line">elif num == 0: </span><br><span class="line">   print(&apos;numç­‰äº0&apos;) </span><br><span class="line">else: </span><br><span class="line">   print(&apos;numä¸ºè´Ÿæ•°&apos;)</span><br></pre></td></tr></table></figure></p><ul><li>æ­¤å¤„è¾“å‡ºï¼š<br><code>numä¸ºæ­£æ•°</code></li></ul><h3 id="forè¯­å¥"><a href="#forè¯­å¥" class="headerlink" title="forè¯­å¥"></a><strong>forè¯­å¥</strong></h3><p>forâ€¦in è¯­å¥æ˜¯å¾ªç¯è¯­å¥çš„ä¸€ç§ï¼Œå…¶ç‰¹ç‚¹æ˜¯ä¼šåœ¨ä¸€ç³»åˆ—å¯¹è±¡ä¸Šè¿›è¡Œè¿­ä»£ï¼Œæ„å³å®ƒä¼šéå†åºåˆ—ä¸­çš„æ¯ä¸€ä¸ªé¡¹ç›®ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for i in range(1, 10): </span><br><span class="line"> print(i) </span><br><span class="line">else: </span><br><span class="line">   print(&apos;å¾ªç¯ç»“æŸ&apos;)</span><br></pre></td></tr></table></figure></p><ul><li>æ­¤å¤„è¾“å‡ºï¼š<br><code>1 2 3 4 5 6 7 8 9 å¾ªç¯ç»“æŸ</code></li></ul><blockquote><p>for å¾ªç¯å°±ä¼šåœ¨(1-9)è¿™ä¸€èŒƒå›´å†…å±•å¼€é€’å½’â€”â€” for i in range(1,10) ç­‰ä»·äº for i in [1ï¼Œ2ï¼Œ3ï¼Œ 4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8ï¼Œ9] ï¼Œè¿™ä¸ªæ“ä½œå°†ä¾æ¬¡å°†é˜Ÿåˆ—é‡Œçš„æ¯ä¸ªæ•°å­—(æˆ–æ˜¯å¯¹è±¡)åˆ†é…ç»™ i ï¼Œä¸€æ¬¡ä¸€ä¸ªï¼Œç„¶åä»¥ æ¯ä¸ª i çš„å€¼æ‰§è¡Œè¯­å¥å—<br>else éƒ¨åˆ†æ˜¯å¯é€‰çš„ã€‚å½“å¾ªç¯ä¸­åŒ…å«ä»–æ—¶ï¼Œå®ƒæ€»ä¼šåœ¨ for å¾ªç¯ç»“æŸåå¼€å§‹æ‰§ è¡Œï¼Œé™¤éç¨‹åºé‡åˆ°äº† break è¯­å¥ã€‚  </p></blockquote><h3 id="whileè¯­å¥"><a href="#whileè¯­å¥" class="headerlink" title="whileè¯­å¥"></a><strong>whileè¯­å¥</strong></h3><p>while è¯­å¥èƒ½å¤Ÿè®©ä½ åœ¨æ¡ä»¶ä¸ºçœŸçš„å‰æä¸‹é‡å¤æ‰§è¡ŒæŸå—è¯­å¥ã€‚ while è¯­å¥ä¹Ÿæ˜¯ ä¸€ç§å¾ªç¯è¯­å¥ã€‚ while è¯­å¥åŒæ ·å¯ä»¥æ‹¥æœ‰ else å­å¥ä½œä¸ºå¯é€‰é€‰é¡¹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">num = 7 </span><br><span class="line">isRun = True </span><br><span class="line">whileisRun: </span><br><span class="line">  if num == 0: </span><br><span class="line">   isRun = False </span><br><span class="line">   else: </span><br><span class="line">   num = num - 1 </span><br><span class="line">else: </span><br><span class="line">   print(num)</span><br></pre></td></tr></table></figure></p><ul><li>æ­¤å¤„è¾“å‡ºï¼š<br><code>0</code></li></ul><blockquote><p>Whileä¼šåœ¨å¾ªç¯å¼€å§‹å‰æ£€æŸ¥å˜é‡æ˜¯å¦ä¸ºtrueï¼Œä¹‹åå†æ‰§è¡Œç›¸åº”çš„ while å—ï¼Œç›´åˆ°å˜é‡ä¸ºfalseï¼Œå¾ªç¯ç»“æŸã€‚  </p></blockquote><h3 id="breakè¯­å¥"><a href="#breakè¯­å¥" class="headerlink" title="breakè¯­å¥"></a><strong>breakè¯­å¥</strong></h3><p>break è¯­å¥ç”¨ä»¥ä¸­æ–­å¾ªç¯è¯­å¥ï¼Œä¹Ÿå°±æ˜¯ä¸­æ­¢å¾ªç¯è¯­å¥çš„æ‰§è¡Œï¼Œå³ä½¿å¾ªç¯æ¡ä»¶æ²¡æœ‰å˜æ›´ä¸º False ï¼Œæˆ–é˜Ÿåˆ—ä¸­çš„é¡¹ç›®å°šæœªå®Œå…¨è¿­ä»£ä¾æ—§å¦‚æ­¤ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for i in range(1, 10): </span><br><span class="line">   print(i)  </span><br><span class="line">   if i == 3: </span><br><span class="line">   break </span><br><span class="line">else: </span><br><span class="line">   print(&apos;å¾ªç¯ç»“æŸ&apos;)</span><br></pre></td></tr></table></figure></p><ul><li>æ­¤å¤„è¾“å‡ºï¼š<br><code>1 2 3</code></li></ul><h3 id="continueè¯­å¥"><a href="#continueè¯­å¥" class="headerlink" title="continueè¯­å¥"></a><strong>continueè¯­å¥</strong></h3><p>continue è¯­å¥ç”¨ä»¥å‘Šè¯‰ Python è·³è¿‡å½“å‰å¾ªç¯å—ä¸­çš„å‰©ä½™è¯­å¥ï¼Œå¹¶ç»§ç»­è¯¥å¾ªç¯çš„ä¸‹ä¸€æ¬¡è¿­ä»£ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">while True: </span><br><span class="line">    s = input(&apos;è¯·è¾“å…¥åå­—&apos;) </span><br><span class="line">    if s == &apos;yu&apos;: </span><br><span class="line">        break </span><br><span class="line">    if len(s) &lt; 2: </span><br><span class="line">        print(&apos;è¯·è¾“å…¥è‡³å°‘ä¸¤ä¸ªå­—ç¬¦&apos;) </span><br><span class="line">        continue </span><br><span class="line">    print(&apos;åå­—ä¸º&apos;, s)</span><br></pre></td></tr></table></figure></p><blockquote><p>æ­¤å¤„æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼Œåªæœ‰å­—ç¬¦ä¸²é•¿åº¦å¤§äºç­‰äº2ç¨‹åºæ‰ä¼šå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚å¦‚æœå…¶é•¿åº¦å° äº 2ï¼Œä¾¿é€šè¿‡ä½¿ç”¨ continue è¯­å¥è·³è¿‡ä»£ç å—ä¸­çš„å…¶ä½™è¯­å¥ã€‚  </p></blockquote>]]></content>
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>åæ±‡ç¼–åŸºç¡€(ä¸åŒè¯­è¨€çš„åæ±‡ç¼–å…¥å£)</title>
      <link href="/2015/10/01/%E5%8F%8D%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80(%E4%B8%8D%E5%90%8C%E8%AF%AD%E8%A8%80%E7%9A%84%E5%8F%8D%E6%B1%87%E7%BC%96%E5%85%A5%E5%8F%A3)/"/>
      <url>/2015/10/01/%E5%8F%8D%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80(%E4%B8%8D%E5%90%8C%E8%AF%AD%E8%A8%80%E7%9A%84%E5%8F%8D%E6%B1%87%E7%BC%96%E5%85%A5%E5%8F%A3)/</url>
      <content type="html"><![CDATA[<p>ğŸ¤”</p><hr><a id="more"></a><ul><li>åœ¨æˆ‘ä»¬åæ±‡ç¼–æ—¶ï¼Œç¬¬ä¸€æ­¥ï¼ˆè¿™é‡Œä¸è€ƒè™‘è„±å£³çš„æƒ…å†µï¼Œè„±å£³ä¼šåœ¨ä¹‹åä»‹ç»ï¼‰å°±æ˜¯è¦æ‰¾ä»£ç çš„å…¥å£å‡½æ•°ã€‚</li><li>ä¸€èˆ¬ä½¿ç”¨ODæ‰“å¼€å·¥ç¨‹æ—¶ï¼Œå¹¶ä¸ä¼šç›´æ¥è·³è½¬åˆ°ç¨‹åºå…¥å£ï¼Œè€Œæ˜¯å…ˆæ‰§è¡Œä¸€ç³»åˆ—çš„åˆå§‹åŒ–å·¥ä½œï¼Œè¿™äº›åˆå§‹åŒ–å·¥ä½œé€šå¸¸æ˜¯æˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆè·³å‡ºè¿™äº›å‡½æ•°ï¼Œç›´æ¥æ‰¾åˆ°ç¨‹åºå…¥å£ã€‚<blockquote><p>å¦‚ä½•æ‰¾åˆ°å…¥å£æ—¶åæ±‡ç¼–æœ€åŸºç¡€çš„æ“ä½œï¼Œå› ä¸ºå¤ªç®€å•ï¼Œè¿‡ç¨‹ä¸åšèµ˜è¿°ï¼Œä¸‹è¾¹æ˜¯æˆ‘æ€»ç»“çš„å‡ ç§è¯­è¨€çš„å…¥å£ç‰¹å¾ï¼š<br>c++  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">00401B70 &gt;/$  55           PUSH EBP                                 </span><br><span class="line">00401B71  |.  8BEC         MOV EBP,ESP</span><br><span class="line">00401B73  |.  6A FF        PUSH -1</span><br><span class="line">00401B75  |.  68 08254000  PUSH crackme.00402508</span><br><span class="line">00401B7A  |.  68 F61C4000  PUSH &lt;JMP.&amp;MSVCRT._except_handler3&gt;      </span><br><span class="line">00401B7F  |.  64:A1 0000000  MOV EAX,DWORD PTR FS:[0]</span><br><span class="line">00401B85  |.  50              PUSH EAX</span><br><span class="line">00401B86  |.  64:8925 00000   MOV DWORD PTR FS:[0],ESP</span><br><span class="line">00401B8D  |.  83EC 68         SUB ESP,68</span><br><span class="line">00401B90  |.  53              PUSH EBX</span><br><span class="line">00401B91  |.  56              PUSH ESI</span><br><span class="line">00401B92  |.  57              PUSH EDI</span><br><span class="line">00401B93  |.  8965 E8         MOV [LOCAL.6],ESP</span><br><span class="line">00401B96  |.  33DB            XOR EBX,EBX</span><br><span class="line">00401B98  |.  895D FC         MOV [LOCAL.1],EBX</span><br><span class="line">00401B9B  |.  6A 02           PUSH 2</span><br><span class="line">00401B9D  |.  FF15 98214000  CALL DWORD PTR DS:[&lt;&amp;MSVCRT.__set_app_ty&gt;</span><br></pre></td></tr></table></figure></blockquote></li></ul><blockquote><p>æ±‡ç¼–<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">00401025 &gt;/$  6A F6          PUSH -0A                                </span><br><span class="line">00401027  |.  E8 A0000000    CALL &lt;JMP.&amp;kernel32.GetStdHandle&gt;        </span><br><span class="line">0040102C  |.  A3 00304000    MOV DWORD PTR DS:[403000],EAX</span><br><span class="line">00401031  |.  6A F5          PUSH -0B                                </span><br><span class="line">00401033  |.  E8 94000000    CALL &lt;JMP.&amp;kernel32.GetStdHandle&gt;       </span><br><span class="line">00401038  |.  A3 04304000    MOV DWORD PTR DS:[403004],EAX</span><br><span class="line">0040103D  |.  6A 01          PUSH 1                                   </span><br><span class="line">0040103F  |.  68 00104000    PUSH EchoLine.00401000                   </span><br><span class="line">00401044  |.  E8 8F000000    CALL &lt;JMP.&amp;kernel32.SetConsoleCtrlHandle&gt;</span><br><span class="line">00401049  |.  6A 07          PUSH 7                                   </span><br><span class="line">0040104B  |.  FF35 00304000 PUSH DWORD PTR DS:[403000]</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>Delphi<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">0045D408 &gt; $  55             push ebp</span><br><span class="line">0045D409   .  8BEC           mov ebp,esp</span><br><span class="line">0045D40B   .  83C4 F0        add esp,-0x10</span><br><span class="line">0045D40E   .  B8 28D24500    mov eax,DELPHI.0045D228</span><br><span class="line">0045D413   .  E8 6088FAFF    call DELPHI.00405C78</span><br><span class="line">0045D418   .  A1 4CF14500    mov eax,dword ptr ds:[0x45F14C]</span><br><span class="line">0045D41D   .  8B00           mov eax,dword ptr ds:[eax]</span><br><span class="line">0045D41F   .  E8 08DFFFFF    call DELPHI.0045B32C</span><br><span class="line">0045D424   .  8B0D 40F24500  mov ecx,dword ptr ds:[0x45F240] </span><br><span class="line">0045D42A   .  A1 4CF14500    mov eax,dword ptr ds:[0x45F14C]</span><br><span class="line">0045D42F   .  8B00           mov eax,dword ptr ds:[eax]</span><br><span class="line">0045D431   .  8B15 CCC84500  mov edx,dword ptr ds:[0x45C8CC] </span><br><span class="line">0045D437   .  E8 08DFFFFF    call DELPHI.0045B344</span><br><span class="line">0045D43C   .  A1 4CF14500    mov eax,dword ptr ds:[0x45F14C]</span><br><span class="line">0045D441   .  8B00           mov eax,dword ptr ds:[eax]</span><br><span class="line">0045D443   .  E8 7CDFFFFF    call DELPHI.0045B3C4</span><br><span class="line">0045D448   .  E8 2769FAFF    call DELPHI.00403D74</span><br><span class="line">0045D44D   .  8D40 00        lea eax,dword ptr ds:[eax]</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>æ˜“è¯­è¨€<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">004464D1 &gt;/$  55            push ebp</span><br><span class="line">004464D2  |.  8BEC          mov ebp,esp</span><br><span class="line">004464D4  |.  6A FF         push -0x1</span><br><span class="line">004464D6  |.  68 B0C14600   push æ˜“è¯­è¨€.0046C1B0</span><br><span class="line">004464DB  |.  68 DCAC4400   push æ˜“è¯­è¨€.0044ACDC  </span><br><span class="line">004464E0  |.  64:A1 0000000&gt;mov eax,dword ptr fs:[0]</span><br><span class="line">004464E6  |.  50            push eax</span><br><span class="line">004464E7  |.  64:8925 00000&gt;mov dword ptr fs:[0],esp</span><br><span class="line">004464EE  |.  83EC 58       sub esp,0x58</span><br><span class="line">004464F1  |.  53            push ebx</span><br><span class="line">004464F2  |.  56            push esi</span><br><span class="line">004464F3  |.  57            push edi       ;  ntdll.7C930228</span><br><span class="line">004464F4  |.  8965 E8       mov [local.6],esp</span><br><span class="line">004464F7  |.  FF15 98514600 call dword ptr ds:[&lt;&amp;KERNEL32.GetVersion&gt;;  kernel32.GetVersion</span><br><span class="line">004464FD  |.  33D2          xor edx,edx</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>vb<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">004013EC &gt; $  68 A4244000   PUSH Crack.004024A4</span><br><span class="line">004013F1   .  E8 F0FFFFFF      CALL &lt;JMP.&amp;MSVBVM60.ThunRTMain&gt;</span><br><span class="line">004013F6   .  0000                ADD BYTE PTR DS:[EAX],AL</span><br><span class="line">004013F8   .  0000                ADD BYTE PTR DS:[EAX],AL</span><br><span class="line">004013FA   .  0000                ADD BYTE PTR DS:[EAX],AL</span><br><span class="line">004013FC   .  3000                XOR BYTE PTR DS:[EAX],AL</span><br><span class="line">004013FE   .  0000                ADD BYTE PTR DS:[EAX],AL</span><br></pre></td></tr></table></figure></p></blockquote>]]></content>
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é€†å‘ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hello,world</title>
      <link href="/2015/07/23/Hello,World/"/>
      <url>/2015/07/23/Hello,World/</url>
      <content type="html"><![CDATA[<a id="more"></a><h1 id="One"><a href="#One" class="headerlink" title="One"></a><strong>One</strong></h1>]]></content>
      
      <categories>
          
          <category> ä»‹ç» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hello </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
